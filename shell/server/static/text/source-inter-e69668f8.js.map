{"version":3,"file":"source-inter-e69668f8.js","sources":["../src/pages/fragments/components/source-inter.jsx"],"sourcesContent":["let imageViewer;\nconst loadPswp = async () => {\n  imageViewer = (await import('@src/common/image-viewer')).imageViewer;\n};\n\nconst getPage = (startPage, endPage) =>\n  startPage\n    ? endPage !== startPage\n      ? `${startPage} - ${endPage}`\n      : startPage\n    : '';\n\nconst getDate = (date, precision) =>\n  date ? (\n    precision ? (\n      <>\n        {date} (<i>{precision}</i>)\n      </>\n    ) : (\n      date\n    )\n  ) : (\n    ''\n  );\n\nconst getAnnexNote = (notes) => notes.map((note) => note).join(',');\n\nexport const getSourceInter = (inter, node, rowIndex) => {\n  if (Object.entries(inter).length === 0) return '-';\n  const date = getDate(inter.date, inter.precision);\n  const page = getPage(inter.startPage, inter.endPage);\n  const annexNote = getAnnexNote(inter.annexNote ?? []);\n  const sourceInter = (\n    <>\n      {inter.identification && (\n        <>\n          <strong data-key=\"identification\">\n            {node.getConstants('identification')}\n          </strong>\n          {inter.identification}\n          <br />\n        </>\n      )}\n      {inter.title && (\n        <>\n          <strong data-key=\"colTitle\">{node.getConstants('colTitle')}</strong>\n          {inter.title}\n          <br />\n        </>\n      )}\n      <strong data-key=\"heteronym\">{node.getConstants('heteronym')}</strong>\n      {inter.heteronym ?? (\n        <span data-key=\"notAssigned\">{node.getConstants('notAssigned')}</span>\n      )}\n      <br />\n      {inter.form && (\n        <>\n          <strong data-key=\"form\">{node.getConstants('form')}</strong>\n          <span data-key={inter.form.toLowerCase()}>\n            {node.getConstants(inter.form.toLowerCase())}\n          </span>\n          {inter.dimensionList.length > 0 ? (\n            <small>\n              {' ('.concat(\n                inter.dimensionList.map((dim) => dim).join(', '),\n                ')'\n              )}\n            </small>\n          ) : (\n            ''\n          )}\n          <br />\n        </>\n      )}\n      {inter.material && (\n        <>\n          <strong data-key=\"material\">{node.getConstants('material')}</strong>\n          <span data-key={inter.material.toLowerCase()}>\n            {node.getConstants(inter.material.toLowerCase())}\n          </span>\n          <br />\n        </>\n      )}\n      {inter.columns && (\n        <>\n          <strong data-key=\"columns\">{node.getConstants('columns')}</strong>\n          {inter.columns}\n          <br />\n        </>\n      )}\n      <>\n        <strong data-key=\"ldodLabel\">{node.getConstants('ldodLabel')}</strong>\n        <span\n          data-key=\"hadLdoDLabel\"\n          data-args={inter.hadLdoDLabel ? 'true' : 'false'}>\n          {node.getConstants('hadLdoDLabel', inter.hadLdoDLabel)}\n        </span>\n        <br />\n      </>\n      {inter.handNoteMediumList?.map(({ medium, note }) => {\n        return (\n          <>\n            <strong data-key=\"handNote\">{node.getConstants('handNote')}</strong>{' '}\n            {medium && <em>({medium})</em>}\n            <strong> :</strong> {note}\n            <br />\n          </>\n        );\n      })}\n      {inter.typeNoteList?.map(({ medium, note }) => {\n        return (\n          <>\n            <strong data-key=\"typeNote\">{node.getConstants('typeNote')}</strong>{' '}\n            {medium && <em>({medium})</em>}\n            <strong> :</strong> {note}\n            <br />\n          </>\n        );\n      })}\n      {inter.journal && (\n        <>\n          <strong data-key=\"journal\">{node.getConstants('journal')}</strong>\n          {inter.journal}\n          <br />\n        </>\n      )}\n      {inter.number && (\n        <>\n          <strong data-key=\"number\">{node.getConstants('number')}</strong>\n          {inter.number}\n          <br />\n        </>\n      )}\n      {page && (\n        <>\n          <strong data-key=\"page\">{node.getConstants('page')}</strong>\n          {page}\n          <br />\n        </>\n      )}\n      {inter.pubPlace && (\n        <>\n          <strong data-key=\"pubPlace\">{node.getConstants('pubPlace')}</strong>\n          {inter.pubPlace}\n          <br />\n        </>\n      )}\n      {date && (\n        <>\n          <strong data-key=\"date\">{node.getConstants('date')}</strong>\n          {date}\n          <br />\n        </>\n      )}\n      {inter.notes && (\n        <>\n          <strong data-key=\"notes\">{node.getConstants('notes')}</strong>\n          {inter.notes}\n          <br />\n        </>\n      )}\n      {annexNote && (\n        <>\n          <strong data-key=\"note\">{node.getConstants('note')}</strong>\n          {annexNote}\n          <br />\n        </>\n      )}\n      {inter.shortName && inter.surfaceDetailsList?.length && (\n        <>\n          <strong data-key=\"facs\">{node.getConstants('facs')}</strong>\n          <span\n            id={`fact-gallery-${rowIndex}`}\n            class=\"pswp-gallery\"\n            onPointerEnter={loadPswp}>\n            {inter.surfaceDetailsList?.map(({ graphic }, index) => {\n              return (\n                <>\n                  {index && <span>, </span>}\n                  <a\n                    data-pswp-src={`https://ldod.uc.pt/facs/${graphic}`}\n                    onClick={() => imageViewer(`span#fact-gallery-${rowIndex}`)}\n                    data-pswp-width=\"1500\"\n                    data-pswp-height=\"1250\">\n                    {inter.shortName}.{++index}\n                  </a>\n                </>\n              );\n            })}\n          </span>\n        </>\n      )}\n    </>\n  );\n\n  return sourceInter;\n};\n"],"names":["imageViewer","loadPswp","async","import","getSourceInter","inter","node","rowIndex","Object","entries","length","date","precision","createElement","createFragment","getDate","page","startPage","endPage","getPage","annexNote","notes","map","note","join","getAnnexNote","identification","getConstants","title","heteronym","form","toLowerCase","dimensionList","concat","dim","material","columns","hadLdoDLabel","handNoteMediumList","medium","typeNoteList","journal","number","pubPlace","shortName","surfaceDetailsList","id","class","onPointerEnter","graphic","index","onClick"],"mappings":"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"}