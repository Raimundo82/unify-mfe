{"version":3,"file":"source-inter-faec0ad6.js","sources":["../src/pages/fragment/components/nav-images.js","../src/pages/fragment/components/viewer.js","../src/pages/fragment/components/source-inter-transcription.js","../src/pages/fragment/components/source-inter.js"],"sourcesContent":["export default {\n  home: {\n    REST: 'home_rest.webp',\n    HOVER: 'home_hover.webp',\n    GROUP: 'home_grouphover.webp',\n    DOWN: 'home_pressed.webp',\n  },\n  zoomIn: {\n    REST: 'zoomin_rest.webp',\n    HOVER: 'zoomin_hover.webp',\n    GROUP: 'zoomin_grouphover.webp',\n    DOWN: 'zoomin_pressed.webp',\n  },\n  zoomOut: {\n    REST: 'zoomout_rest.webp',\n    HOVER: 'zoomout_hover.webp',\n    GROUP: 'zoomout_grouphover.webp',\n    DOWN: 'zoomout_pressed.webp',\n  },\n  fullpage: {\n    REST: 'fullpage_rest.webp',\n    HOVER: 'fullpage_hover.webp',\n    GROUP: 'fullpage_grouphover.webp',\n    DOWN: 'fullpage_pressed.webp',\n  },\n  previous: {\n    REST: 'previous_rest.webp',\n    HOVER: 'previous_hover.webp',\n    GROUP: 'previous_grouphover.webp',\n    DOWN: 'previous_pressed.webp',\n  },\n  next: {\n    REST: 'next_rest.webp',\n    HOVER: 'next_hover.webp',\n    GROUP: 'next_grouphover.webp',\n    DOWN: 'next_pressed.webp',\n  },\n  rotateleft: {\n    REST: 'rotateleft_rest.webp',\n    HOVER: 'rotateleft_hover.webp',\n    GROUP: 'rotateleft_grouphover.webp',\n    DOWN: 'rotateleft_pressed.webp',\n  },\n  rotateright: {\n    REST: 'rotateright_rest.webp',\n    HOVER: 'rotateright_hover.webp',\n    GROUP: 'rotateright_grouphover.webp',\n    DOWN: 'rotateright_pressed.webp',\n  },\n};\n","/** @format */\n\nimport { parseRawHTML } from '../../../utils';\nimport { isDev } from '../../edition/edition-router';\nimport navImages from './nav-images';\n\nconst base = 'http://ldod.uc.pt/facs/';\nconst isFullScreen = () => document.fullscreenElement;\nconst isFullScreenSupported = () => document.exitFullscreen;\n\nconst loadOpenSeadragon = async obj => {\n\tconst OpenSeadragon = await import('openseadragon');\n\tconst viewer = new OpenSeadragon.Viewer({\n\t\t...obj,\n\t});\n\n\tviewer.setFullScreen = function (bool) {\n\t\tif (!isFullScreenSupported()) return this.setFullPage(bool);\n\t\tif (!isFullScreen()) return this.container.requestFullscreen();\n\t\tdocument.exitFullscreen();\n\t};\n\n\tviewer.addHandler('page', customElements.get('frag-inter').instance.onChangeFac);\n};\n\nexport default ({ surfaceList }) => {\n\tconst element = parseRawHTML(\n\t\t/*html*/ `<div id=\"fac-viewer\" style=\"height: 554px;\"></div>`\n\t).firstElementChild;\n\tloadOpenSeadragon({\n\t\telement,\n\t\ttileSources: surfaceList.map(imgPath => ({\n\t\t\ttype: 'image',\n\t\t\turl: base.concat(imgPath.graphic),\n\t\t})),\n\t\tprefixUrl: isDev() ? '/' : `${import.meta.env.VITE_NODE_HOST}/text/`,\n\t\tsequenceMode: true,\n\t\tshowNavigator: true,\n\t\tnavImages,\n\t\tautoHideControls: false,\n\t\tvisibilityRatio: 1,\n\t\tconstrainDuringPan: true,\n\t\tshowRotationControl: true,\n\t\tshowFullPageControl: true,\n\t});\n\n\treturn element;\n};\n","/** @format */\n\nimport { parseRawHTML } from '../../../utils';\nimport viewer from './viewer';\n\nexport default ({ root, inter }) => {\n\tconst frag = parseRawHTML(/*html*/ `\t\n\t\t<div\n\t\t\tclass=\"${root.transcriptionCheckboxes.fac ? 'text-fac-transcription' : 'text-nofac-transcription'}\"\n\t\t>\t<div id=\"source-fac\"></div>\n\t\t\t<div class=\"well authorialStyle\" id=\"transcriptionContainer\">\n\t\t\t\t${root.data.transcriptions[0]}\n\t\t\t</div>\n\t\t</div>\n\t`);\n\tif (root.transcriptionCheckboxes.fac) {\n\t\tfrag.querySelector('div#source-fac').replaceWith(\n\t\t\tviewer({ surfaceList: inter.surfaceDetailsList ?? [] })\n\t\t);\n\t}\n\n\treturn frag;\n};\n","/** @format */\n\nimport { getSourceInter } from '../../fragments/components/source-inter';\nimport { parseRawHTML } from '../../../utils';\nimport checkboxes from './checkboxes';\nimport title from './title';\nimport sourceInterTranscription from './source-inter-transcription';\nconst cbs = ['diff', 'del', 'ins', 'sub', 'note', 'fac'];\n\nexport default ({ root, inter }) => {\n\tconst frag = parseRawHTML(/*html*/ `\n    ${checkboxes({ root, checkboxes: cbs })} ${cbs\n\t\t.map(cb => getTooltip(root, cb))\n\t\t.join('')} ${title({\n\t\ttitle: root.data.title,\n\t})}\n    <div id=\"source-transcription\"></div>\n    <br />\n    <div id=\"interMetaInfo\" class=\"well\"></div>\n  `);\n\n\tfrag.querySelector('div#source-transcription').replaceWith(\n\t\tsourceInterTranscription({ root, inter })\n\t);\n\tfrag.querySelector('div#interMetaInfo').appendChild(getSourceInter(inter, root, 0));\n\treturn frag;\n};\n\nfunction getTooltip(root, cb) {\n\treturn /*html*/ `\n  <ldod-tooltip\n  data-ref=\"${`div#${cb}`}\"\n  data-tooltip-key=\"${`${cb}Info`}\"\n  placement=\"top\"\n  content=\"${root.getConstants(`${cb}Info`)}\"></ldod-tooltip>\n  `;\n}\n"],"names":["navImages","home","REST","HOVER","GROUP","DOWN","zoomIn","zoomOut","fullpage","previous","next","rotateleft","rotateright","loadOpenSeadragon","async","obj","viewer","import","Viewer","setFullScreen","bool","document","exitFullscreen","fullscreenElement","this","container","requestFullscreen","setFullPage","addHandler","customElements","get","instance","onChangeFac","sourceInterTranscription","root","inter","frag","parseRawHTML","transcriptionCheckboxes","fac","data","transcriptions","querySelector","replaceWith","surfaceList","element","firstElementChild","tileSources","map","imgPath","type","url","concat","graphic","prefixUrl","sequenceMode","showNavigator","autoHideControls","visibilityRatio","constrainDuringPan","showRotationControl","showFullPageControl","surfaceDetailsList","cbs","sourceInter","checkboxes","cb","getConstants","getTooltip","join","title","appendChild","getSourceInter"],"mappings":"0PAAA,MAAeA,EAAA,CACbC,KAAM,CACJC,KAAM,iBACNC,MAAO,kBACPC,MAAO,uBACPC,KAAM,qBAERC,OAAQ,CACNJ,KAAM,mBACNC,MAAO,oBACPC,MAAO,yBACPC,KAAM,uBAERE,QAAS,CACPL,KAAM,oBACNC,MAAO,qBACPC,MAAO,0BACPC,KAAM,wBAERG,SAAU,CACRN,KAAM,qBACNC,MAAO,sBACPC,MAAO,2BACPC,KAAM,yBAERI,SAAU,CACRP,KAAM,qBACNC,MAAO,sBACPC,MAAO,2BACPC,KAAM,yBAERK,KAAM,CACJR,KAAM,iBACNC,MAAO,kBACPC,MAAO,uBACPC,KAAM,qBAERM,WAAY,CACVT,KAAM,uBACNC,MAAO,wBACPC,MAAO,6BACPC,KAAM,2BAERO,YAAa,CACXV,KAAM,wBACNC,MAAO,yBACPC,MAAO,8BACPC,KAAM,6BCrCJQ,EAAoBC,MAAMC,IAC/B,MACMC,EAAS,WADaC,OAAO,+CACFC,QAAO,IACpCH,IAGJC,EAAOG,cAAgB,SAAUC,GAChC,OATkCC,SAASC,eADlBD,SAASE,uBAYlCF,SAASC,iBADmBE,KAAKC,UAAUC,oBADNF,KAAKG,YAAYP,EAGxD,EAECJ,EAAOY,WAAW,OAAQC,eAAeC,IAAI,cAAcC,SAASC,YAAW,ECjBhFC,EAAe,EAAGC,KAAAA,EAAMC,MAAAA,MACvB,MAAMC,EAAOC,EAAsB,8BAExBH,EAAKI,wBAAwBC,IAAM,yBAA2B,iJAGpEL,EAAKM,KAAKC,eAAe,oCAI9B,OAAIP,EAAKI,wBAAwBC,KAChCH,EAAKM,cAAc,kBAAkBC,YDSxB,GAAGC,YAAAA,MACjB,MAAMC,EAAUR,EACN,sDACRS,kBACF,OAAAjC,EAAkB,CACjBgC,QAAAA,EACAE,YAAaH,EAAYI,KAAIC,IAAY,CACxCC,KAAM,QACNC,IA3BU,0BA2BAC,OAAOH,EAAQI,aAE1BC,UAA2B,wCAC3BC,cAAc,EACdC,eAAe,EACfxD,UAAAA,EACAyD,kBAAkB,EAClBC,gBAAiB,EACjBC,oBAAoB,EACpBC,qBAAqB,EACrBC,qBAAqB,IAGfhB,CAAAA,EC7BL7B,CAAO,CAAE4B,YAAaT,EAAM2B,oBAAsB,MAI7C1B,CAAAA,ECdF2B,EAAM,CAAC,OAAQ,MAAO,MAAO,MAAO,OAAQ,OAElDC,EAAe,EAAG9B,KAAAA,EAAMC,MAAAA,MACvB,MAAMC,EAAOC,EAAsB,SAC9B4B,EAAW,CAAE/B,KAAAA,EAAM+B,WAAYF,OAAUA,EAC5Cf,KAAIkB,GAgBP,SAAoBhC,EAAMgC,GACzB,MAAA,sCAEoBA,2BACIA,yCAEZhC,EAAKiC,aAAa,GAAGD,+BAElC,CAxBaE,CAAWlC,EAAMgC,KAC3BG,KAAK,OAAOC,EAAM,CACnBA,MAAOpC,EAAKM,KAAK8B,uHAOlBlC,OAAAA,EAAKM,cAAc,4BAA4BC,YAC9CV,EAAyB,CAAEC,KAAAA,EAAMC,MAAAA,KAElCC,EAAKM,cAAc,qBAAqB6B,YAAYC,EAAerC,EAAOD,EAAM,IACzEE,CAAAA"}