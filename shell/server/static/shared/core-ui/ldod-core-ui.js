import t from"@ui/bootstrap/toast-css.js";import e from"@ui/bootstrap/buttons-css.js";class s extends HTMLElement{constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open"})}async connectedCallback(){this.shadowRoot.innerHTML||await this.render(),this.button=this.shadowRoot.querySelector("button"),this.addEventListeners()}async render(){this.shadowRoot.innerHTML=(await import("./scroll-btn-html-78404c04.js")).default()}addEventListeners(){window.addEventListener("scroll",(()=>this.toggleAttribute("scrolled",window.scrollY>750))),this.button?.addEventListener("click",i)}}function i(){window.scrollTo({top:0,behavior:"smooth"})}!customElements.get("scroll-btn")&&customElements.define("scroll-btn",s);const n=new CSSStyleSheet;n.replaceSync(t+e+":host{display:block;padding:0 20px}.d-flex{display:flex!important;padding-left:1em;align-items:center;gap:1em}.alert-danger{--bs-alert-color: #842029;--bs-alert-bg: #f8d7da;--bs-alert-border-color: #f5c2c7}.alert-success{--bs-alert-color: #0f5132;--bs-alert-bg: #d1e7dd;--bs-alert-border-color: #badbcc}.toast{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;font-weight:400;--bs-toast-max-width: 75vh !important;color:var(--bs-alert-color);background-color:var(--bs-alert-bg);border:var(--bs-alert-border);min-width:300px}.btn-close-margin{margin:auto!important;margin-right:.5rem!important}\n");class o extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.adoptedStyleSheets=[n],this.toastHtml=t=>`\n        <div\n            class="toast fade alert-${t}"\n            role="alert"\n            aria-live="assertive"\n            aria-atomic="true"\n        >\n            <div class="d-flex">\n            ${"success"===t?'<span is="ldod-span-icon" icon="check" size="18px" fill="#0f5132"></span>':'<span is="ldod-span-icon" icon="triangle-exclamation" size="18px" fill="#842029"></span>'}\n            <div class="toast-body">\n                <slot ></slot>\n                </div>\n                <button\n                    type="button"\n                    class="btn-close btn-close-alert btn-close-margin"\n                ></button>\n            </div>\n        </div>\n`}get show(){return this.hasAttribute("show")}get theme(){return this.getAttribute("theme")||"primary"}get toast(){return this.shadowRoot.querySelector(".toast")}static get observedAttributes(){return["show"]}attributeChangedCallback(t,e,s){this.handleAttributeChange[t](e,s)}handleAttributeChange={show:()=>this.show&&this.showNotification()};connectedCallback(){this.addEventListener("pointerenter",this.clearTimeout),this.addEventListener("pointerleave",this.hideNotification)}render(){this.shadowRoot.innerHTML=this.toastHtml(this.theme),this.addEventListeners()}addEventListeners=()=>{this.shadowRoot.querySelector(".btn-close").addEventListener("click",this.close)};toggle=()=>this.toggleAttribute("show");clearTimeout=()=>{window.clearTimeout(this.timeout),this.timeout=null};showNotification=()=>{this.clearTimeout(),this.render(),this.toast.classList.add("show"),this.fadeTransition(),this.toggleAttribute("show",!1),this.hideNotification()};hideNotification=()=>{this.timeout=setTimeout((()=>{this.timeout&&this.close()}),3e3)};fadeTransition=(t=!1)=>{this.toast.classList.add("showing"),setTimeout((()=>{this.toast.classList.remove("showing"),t&&this.toast.classList.remove("show"),t&&this.remove()}),100)};close=()=>{this.fadeTransition(!0)}}!customElements.get("ldod-notification")&&customElements.define("ldod-notification",o);const a=new DOMParser,r=async t=>(t=>a.parseFromString(t,"image/svg+xml"))(window.LDOD_PRODUCTION?(await import(`@ui/icons/${t}.js`)).default:(await import(`./icons/${t}.js`)).default).firstChild,l=":host{display:inline-block;background-repeat:no-repeat;background-position:center;vertical-align:middle}\n";class d extends HTMLSpanElement{constructor(){super(),this.attachShadow({mode:"open"}),this.sheet=new CSSStyleSheet,this.sheet.replaceSync(l),this.shadowRoot.adoptedStyleSheets=[this.sheet]}get icon(){return this.getAttribute("icon")}get fill(){return this.getAttribute("fill")||"#6c757d"}get hoverIcon(){return this.getAttribute("hover-icon")||this.icon}get hoverFill(){return this.getAttribute("hover-fill")||this.fill}get size(){return this.getAttribute("size")||"24px"}setFillColor(t,e){return t.querySelector("path").setAttribute("fill",e),t}async connectedCallback(){const t=this.setFillColor(await r(this.icon),this.fill),e=this.setFillColor(await r(this.hoverIcon),this.hoverFill);this.sheet.replaceSync(l+((t,e,s)=>`\n:host {\n    --icon-background: url(data:image/svg+xml,${encodeURIComponent(t)});\n\tbackground-image: var(--icon-background);\n\tmin-width: ${s};\n\tmin-height: ${s};\n\tbackground-size: ${s};\n}\n:host(:hover) {\n    --icon-background: url(data:image/svg+xml,${encodeURIComponent(e)});\n}\n`)(t.outerHTML,e.outerHTML,this.size))}}!customElements.get("ldod-span-icon")&&customElements.define("ldod-span-icon",d,{extends:"span"});const h=globalThis.eventBus;class c extends HTMLElement{constructor(){super(),this.shadowRoot||this.attachShadow({mode:"open"}),this.pendingLoading=0}get isLoading(){return this.hasAttribute("show")}handleLoading=async t=>{this.pendingLoading>1&&t||0!==this.pendingLoading&&!t||this.toggleVisibility(t)};toggleVisibility=t=>this.hidden=!t;async connectedCallback(){this.shadowRoot.innerHTML||await this.render(),this.addEventListeners()}async render(){this.shadowRoot.innerHTML=(await import("./loading-spinner-html-6b413c63.js")).default()}disconnectedCallback(){this.unsubLoading?.()}addEventListeners=()=>{this.unsubLoading=h?.subscribe("ldod:loading",this.handleLoadingEvent).unsubscribe};handleLoadingEvent=({payload:t})=>{t?++this.pendingLoading:this.pendingLoading>0?--this.pendingLoading:this.pendingLoading=0,this.handleLoading(t)}}!customElements.get("loading-spinner")&&customElements.define("loading-spinner",c);
//# sourceMappingURL=ldod-core-ui.js.map
