{"version":3,"file":"search-advanced-2f77ced2.js","sources":["../src/pages/search-advanced/constants.jsx","../src/pages/search-advanced/criteria-form.jsx","../src/pages/search-advanced/components/AdvancedSearchTableResult.jsx","../src/pages/search-advanced/ldod-search-advanced.jsx","../src/pages/search-advanced/search-advanced.jsx"],"sourcesContent":["/** @format */\n\nexport default (frags, inters) => ({\n\tpt: {\n\t\tadvancedSearch: 'Pesquisa Avançada',\n\t\tcriteriaAnd: 'De acordo com todos os seguintes critérios',\n\t\tcriteriaOr: 'De acordo com pelo menos um dos seguintes critérios',\n\t\tedition: 'Edição',\n\t\tmanuscript: 'Manuscrito',\n\t\tdactiloscript: 'Datiloscrito',\n\t\tpublication: 'Publicado',\n\t\theteronym: 'Heterónimo',\n\t\ttaxonomy: 'Taxonomias',\n\t\tvirtualedition: 'Edições Virtuais',\n\t\tdate: 'Data',\n\t\ttext: 'Texto',\n\t\tincludedIn: 'Incluídos em',\n\t\texcludedFrom: 'Excluídos de',\n\t\tall: 'Todas',\n\t\tsearch: 'Pesquisar',\n\t\tcriteriaType: 'Tipos de Critério',\n\t\teditions: 'Edições',\n\t\theteronyms: 'Heterónimos',\n\t\teditionInclusion: 'Inclusão na edição',\n\t\tveInclusion: 'Inclusão na edição virtual',\n\t\tvirtualEdition: 'Edição Virtual',\n\t\tdated: 'Datado',\n\t\tnotDated: 'Não datado',\n\t\tbeginDate: 'Desde',\n\t\tendDate: 'Até',\n\t\thasLdoDMark: 'Marca Ldod',\n\t\twithLdodLabel: 'Com marca Ldod',\n\t\twithoutLdodLabel: 'Sem marca Ldod',\n\t\tkeyword: 'Palavras chave',\n\t\tfragment: 'Fragmento',\n\t\tfragments: (\n\t\t\t<div>\n\t\t\t\t<span data-search-key=\"fragment\">Fragmento </span>\n\t\t\t\t{` (${frags})`}\n\t\t\t</div>\n\t\t),\n\t\tinterpretation: 'Interpretações',\n\t\tinterpretations: (\n\t\t\t<div>\n\t\t\t\t<span data-search-key=\"interpretation\">Interpretações</span>\n\t\t\t\t{` (${inters})`}\n\t\t\t</div>\n\t\t),\n\t\tsourceType: 'Tipos de fonte',\n\t\tsourceTypeHeader: <span data-search-key=\"sourceType\">Tipos de fonte</span>,\n\t\tsourcesHeader: <span data-search-key=\"sources\">Testemunhos</span>,\n\t\tsources: 'Testemunhos',\n\t\ttypescript: 'Mecanografiado',\n\t\tboth: 'Manuscrito Mecanografiado',\n\t\tyes: 'Sim',\n\t\tno: 'Não',\n\t\tdateHeader: <span data-search-key=\"date\">Data</span>,\n\t\teditionHeader: <span data-search-key=\"edition\">Edição</span>,\n\t\theteronymHeader: <span data-search-key=\"heteronym\">Heterónimo</span>,\n\t\thasLdoDMarkHeader: <span data-search-key=\"hasLdoDMark\">Marca Ldod</span>,\n\t\t'não atribuído': 'Não atribuído',\n\t},\n\ten: {\n\t\tadvancedSearch: 'Advanced Search',\n\t\tcriteriaAnd: 'Match all of the following',\n\t\tcriteriaOr: 'Match any of the following',\n\t\tedition: 'Edition',\n\t\tmanuscript: 'Manuscript',\n\t\tdactiloscript: 'Typescript',\n\t\tpublication: 'Published',\n\t\theteronym: 'Heteronym',\n\t\ttaxonomy: 'Taxonomies',\n\t\tvirtualedition: 'Virtual Editions',\n\t\tdate: 'Date',\n\t\ttext: 'Text',\n\t\tincludedIn: 'Included in',\n\t\texcludedFrom: 'Excluded from',\n\t\tall: 'All',\n\t\tsearch: 'Search',\n\t\tcriteriaType: 'Criteria Types',\n\t\teditions: 'Editions',\n\t\theteronyms: 'Heteronyms',\n\t\teditionInclusion: 'Edition inclusion',\n\t\tvirtualEdition: 'Virtual Edition',\n\t\tveInclusion: 'virtual edition inclusion',\n\t\tdated: 'Dated',\n\t\tnotDated: 'Not dated',\n\t\tbeginDate: 'From',\n\t\tendDate: 'to',\n\t\thasLdoDMark: 'LdoD Mark',\n\t\twithLdodLabel: 'With LdoD mark',\n\t\twithoutLdodLabel: 'Without LdoD mark',\n\t\tkeyword: 'Keyworks',\n\t\tfragment: 'Fragment',\n\t\tfragments: (\n\t\t\t<div>\n\t\t\t\t<span data-search-key=\"fragment\">Fragment</span>\n\t\t\t\t{` (${frags})`}\n\t\t\t</div>\n\t\t),\n\t\tinterpretation: 'Interpretations',\n\n\t\tinterpretations: (\n\t\t\t<div>\n\t\t\t\t<span data-search-key=\"interpretation\">Interpretations</span>\n\t\t\t\t{` (${inters})`}\n\t\t\t</div>\n\t\t),\n\t\tsourceType: 'Source Types',\n\t\tsourceTypeHeader: <span data-search-key=\"sourceType\">Tipos de fonte</span>,\n\t\tsourcesHeader: <span data-search-key=\"sources\">Witnesses</span>,\n\t\tsources: 'Witnesses',\n\t\ttypescript: 'Typescript',\n\t\tboth: 'Manuscript Typescript',\n\t\tyes: 'Yes',\n\t\tno: 'No',\n\t\tdateHeader: <span data-search-key=\"date\">Date</span>,\n\t\teditionHeader: <span data-search-key=\"edition\">Edition</span>,\n\t\theteronymHeader: <span data-search-key=\"heteronym\">Heteronym</span>,\n\t\thasLdoDMarkHeader: <span data-search-key=\"hasLdoDMark\">LdoD Mark</span>,\n\t\t'não atribuído': 'Not assigned',\n\t},\n\tes: {\n\t\tadvancedSearch: 'Búsqueda Avanzada',\n\t\tcriteriaAnd: 'Coincidir todos de los siguientes criterios',\n\t\tcriteriaOr: 'Coincidir con pelo menos uno de los siguientes criterios',\n\t\tedition: 'Edición',\n\t\tmanuscript: 'Manuscrito',\n\t\tdactiloscript: 'Mecanografiado',\n\t\tpublication: 'Publicado',\n\t\theteronym: 'Heterónimo',\n\t\ttaxonomy: 'Taxonomías',\n\t\tvirtualedition: 'Ediciónes Virtuales',\n\t\tdate: 'Fecha',\n\t\ttext: 'Texto',\n\t\tincludedIn: 'Incluidos em',\n\t\texcludedFrom: 'Excluidos de',\n\t\tall: 'Todas',\n\t\tsearch: 'Buscar',\n\t\tcriteriaType: 'Tipos de Critério',\n\t\teditions: 'Ediciónes',\n\t\tvirtualEdition: 'Edición Virtuale',\n\t\theteronyms: 'Heterónimos',\n\t\teditionInclusion: 'Inclusion en edición',\n\t\tveInclusion: 'Inclusion en edición virtuale',\n\t\tdated: 'Datado',\n\t\tnotDated: 'No datado',\n\t\tbeginDate: 'Desde',\n\t\tendDate: 'Até',\n\t\thasLdoDMark: 'Marca Ldod',\n\t\twithLdodLabel: 'Con marca Ldod',\n\t\twithoutLdodLabel: 'Sin marca Ldod',\n\t\tkeyword: 'Palabras clave',\n\t\tfragment: 'Fragmento',\n\t\tfragments: (\n\t\t\t<div>\n\t\t\t\t<span data-search-key=\"fragment\">Fragmento</span>\n\t\t\t\t{` (${frags})`}\n\t\t\t</div>\n\t\t),\n\t\tinterpretation: 'Interpretaciones',\n\t\tinterpretations: (\n\t\t\t<div>\n\t\t\t\t<span data-search-key=\"interpretation\">Interpretaciones</span>\n\t\t\t\t{` (${inters})`}\n\t\t\t</div>\n\t\t),\n\t\tsourceType: 'Tipos de fuente',\n\t\tsourceTypeHeader: <span data-search-key=\"sourceType\">Tipos de fuente</span>,\n\t\tsourcesHeader: <span data-search-key=\"sources\">Testimonios</span>,\n\t\tsources: 'Testimonios',\n\t\ttypescript: 'Mecanografiado',\n\t\tboth: 'Manuscrito Mecanografiado',\n\t\tyes: 'Si',\n\t\tno: 'No',\n\t\tdateHeader: <span data-search-key=\"date\">Fecha</span>,\n\t\teditionHeader: <span data-search-key=\"edition\">Edición</span>,\n\t\theteronymHeader: <span data-search-key=\"heteronym\">Heterónimo</span>,\n\t\thasLdoDMarkHeader: <span data-search-key=\"hasLdoDMark\">Marca Ldod</span>,\n\t\t'não atribuído': 'Ninguna atribuición',\n\t},\n});\n","const importCriteriaForm = async (name) =>\n  (await import(`./components/${name}.jsx`)).default;\n\nconst searchTypeList = [\n  'edition',\n  'manuscript',\n  'dactiloscript',\n  'publication',\n  'heteronym',\n  'taxonomy',\n  'virtualedition',\n  'date',\n  'text',\n];\n\nexport class CriteriaForm extends HTMLFormElement {\n  constructor() {\n    super();\n  }\n\n  get criteria() {\n    return this.getAttribute('criteria');\n  }\n\n  get criteriaFormElement() {\n    return this.querySelector('#criteria-form');\n  }\n\n  static get observedAttributes() {\n    return ['criteria'];\n  }\n\n  connectedCallback() {\n    this.render();\n  }\n\n  render() {\n    this.appendChild(\n      <>\n        <hr></hr>\n        <div id=\"criteria-container\">\n          <div class=\"form-floating\">\n            <select\n              required\n              name=\"type\"\n              class=\"form-select\"\n              onChange={this.onChangeCriteria}>\n              <option selected></option>\n              {searchTypeList.map((opt) => (\n                <option value={opt} data-search-key={opt}>\n                  {this.root.getConstants(opt)}\n                </option>\n              ))}\n            </select>\n            <label data-search-key=\"criteriaType\">\n              {this.root.getConstants('criteriaType')}\n            </label>\n          </div>\n          <div id=\"criteria-form\"></div>\n          <button\n            class=\"btn btn-outline-secondary\"\n            id=\"remove-criteria\"\n            onClick={this.onRemoveCriteria}>\n            <span class=\"icon icon-minus\"></span>\n          </button>\n        </div>\n      </>\n    );\n  }\n\n  attributeChangedCallback(name) {\n    this.onChangeAttribute[name]();\n  }\n\n  onChangeAttribute = {\n    criteria: () => this.changedCriteriaHandler(),\n  };\n\n  onChangeCriteria = ({ target }) => {\n    this.setAttribute('criteria', target.value);\n  };\n\n  changedCriteriaHandler = async () => {\n    const criteriaForm = this.criteria ? (\n      (await importCriteriaForm(this.criteria))({ root: this.root, form: this })\n    ) : (\n      <></>\n    );\n    this.insertCriteriaForm(criteriaForm);\n  };\n\n  insertCriteriaForm = (criteriaForm) => {\n    this.criteriaFormElement.replaceWith(\n      <div id=\"criteria-form\">{criteriaForm}</div>\n    );\n  };\n\n  onRemoveCriteria = () => {\n    --this.root.sequentialId;\n    this.remove();\n  };\n}\n!customElements.get('criteria-form') &&\n  customElements.define('criteria-form', CriteriaForm, { extends: 'form' });\n","/** @format */\n\nimport { textFrag, textFragInter } from '../../../external-deps';\nimport constants from '../constants';\n\nimport.meta.env.DEV ? await import('@ui/table-dev.js') : await import('@ui/table.js');\n\nconst getTableData = root => {\n\treturn root.inters.map(inter => {\n\t\tconst criterias = root.criteriaNumber.reduce((prev, _, index) => {\n\t\t\tlet c = ++index;\n\t\t\tprev[`C${c}`] = inter.options.map(i => ++i).includes(c) ? 'X' : '';\n\t\t\treturn prev;\n\t\t}, {});\n\n\t\treturn {\n\t\t\texternalId: inter.externalId,\n\t\t\tdata: () => ({\n\t\t\t\tfragments: (\n\t\t\t\t\t<a is=\"nav-to\" content to={textFrag(inter.xmlId)}>\n\t\t\t\t\t\t{inter.fragTitle}\n\t\t\t\t\t</a>\n\t\t\t\t),\n\t\t\t\tinterpretations: (\n\t\t\t\t\t<a is=\"nav-to\" content to={textFragInter(inter.xmlId, inter.urlId)}>\n\t\t\t\t\t\t{inter.title}\n\t\t\t\t\t</a>\n\t\t\t\t),\n\t\t\t\t...criterias,\n\t\t\t\tsourceTypeHeader: inter.sourceType,\n\t\t\t\tsourcesHeader: (\n\t\t\t\t\t<span data-search-key={inter.sources}>{root.getConstants(inter.sources)}</span>\n\t\t\t\t),\n\t\t\t\thasLdoDMarkHeader: inter.hasLdoDMark\n\t\t\t\t\t? root.getConstants('yes')\n\t\t\t\t\t: root.getConstants('no'),\n\t\t\t\tdateHeader: inter.date,\n\t\t\t\teditionHeader: inter.editor,\n\t\t\t\theteronymHeader:\n\t\t\t\t\tinter.heteronym === 'não atribuído'\n\t\t\t\t\t\t? root.getConstants(inter.heteronym)\n\t\t\t\t\t\t: inter.heteronym,\n\t\t\t}),\n\t\t\tsearch: JSON.stringify(Object.values(inter).join(', ')),\n\t\t};\n\t});\n};\n\nexport default ({ root }) => {\n\tconst headers = [\n\t\t'fragments',\n\t\t'interpretations',\n\t\t...root.criteriaNumber.map(i => `C${++i}`),\n\t\t'sourceTypeHeader',\n\t\t'sourcesHeader',\n\t\t'hasLdoDMarkHeader',\n\t\t'editionHeader',\n\t\t'heteronymHeader',\n\t\t'dateHeader',\n\t];\n\treturn (\n\t\t<ldod-table\n\t\t\tid=\"search-advanced\"\n\t\t\tclasses=\"table table-bordered table-hover\"\n\t\t\theaders={headers}\n\t\t\tdata={getTableData(root)}\n\t\t\tconstants={constants(root.fragsNumber, root.intersNumber)[root.language]}\n\t\t\tdata-searchkey=\"externalId\"></ldod-table>\n\t);\n};\n","/** @format */\n\nimport style from '@src/style.css?inline';\nimport thisStyle from './style.css?inline';\n\nimport constants from './constants';\nimport { advancedSearch, getAdvSearchDto } from '../../api-requests';\nimport './criteria-form';\nimport AdvancedSearchTableResult from './components/AdvancedSearchTableResult';\n\nexport class LdodSearchAdvanced extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.attachShadow({ mode: 'open' });\n\t\tthis.constants = constants;\n\t\tthis.sequentialId = 1;\n\t\tthis.mode = 'and';\n\t}\n\n\tget language() {\n\t\treturn this.getAttribute('language');\n\t}\n\n\tget resultTable() {\n\t\treturn this.shadowRoot.querySelector('ldod-table#search-advanced');\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn ['language'];\n\t}\n\n\tgetConstants(key) {\n\t\treturn constants(this.fragsNumber, this.intersNumber)[this.language][key];\n\t}\n\n\tCriteriaForm = () => <form is=\"criteria-form\" root={this}></form>;\n\n\tfetchData = async () => {\n\t\tgetAdvSearchDto()\n\t\t\t.then(data => (this.data = data))\n\t\t\t.catch(e => console.error(e));\n\t};\n\n\tasync connectedCallback() {\n\t\tawait this.fetchData();\n\t\tthis.shadowRoot.appendChild(\n\t\t\t<style>\n\t\t\t\t{style}\n\t\t\t\t{thisStyle}\n\t\t\t</style>\n\t\t);\n\t\tthis.render();\n\t}\n\n\trender() {\n\t\tthis.shadowRoot.appendChild(\n\t\t\t<>\n\t\t\t\t<h3 class=\"text-center\" data-search-key=\"advancedSearch\">\n\t\t\t\t\t{this.getConstants('advancedSearch')}\n\t\t\t\t</h3>\n\t\t\t\t<div id=\"main\">\n\t\t\t\t\t<select\n\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\tname=\"mode\"\n\t\t\t\t\t\tonChange={({ target }) => (this.mode = target.value)}>\n\t\t\t\t\t\t<option value=\"and\" data-search-key=\"criteriaAnd\">\n\t\t\t\t\t\t\t{this.getConstants('criteriaAnd')}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"or\" data-search-key=\"criteriaOr\">\n\t\t\t\t\t\t\t{this.getConstants('criteriaOr')}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div id=\"criterias-container\">\n\t\t\t\t\t<this.CriteriaForm />\n\t\t\t\t</div>\n\t\t\t\t<hr></hr>\n\t\t\t\t<div id=\"actions\">\n\t\t\t\t\t<button class=\"btn btn-outline-secondary\" onClick={this.onSearch}>\n\t\t\t\t\t\t<span class=\"icon icon-magnifying-glass\"></span>\n\t\t\t\t\t\t<span data-search-key=\"search\">{this.getConstants('search')}</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-outline-secondary\"\n\t\t\t\t\t\tid=\"add-criteria\"\n\t\t\t\t\t\tonClick={this.addCriteria}>\n\t\t\t\t\t\t<span class=\"icon icon-plus\"></span>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n\n\taddCriteria = () => {\n\t\t++this.sequentialId;\n\t\tthis.shadowRoot.querySelector('#criterias-container').appendChild(<this.CriteriaForm />);\n\t};\n\n\tattributeChangedCallback(name, oldV, newV) {\n\t\tthis.onChangeAttribute[name]();\n\t}\n\n\tonChangeAttribute = {\n\t\tlanguage: () => this.onLanguage(),\n\t};\n\n\tonLanguage = () => {\n\t\tthis.shadowRoot.querySelectorAll('[data-search-key]').forEach(element => {\n\t\t\telement.firstChild.textContent =\n\t\t\t\tthis.getConstants(element.dataset.searchKey) || element.dataset.searchKey;\n\t\t});\n\t};\n\n\twrapDate = body => {\n\t\tlet begin = body.begin;\n\t\tlet end = body.end;\n\t\tlet option = body.option;\n\t\tbody = { ...body, date: { type: 'date', option, begin, end } };\n\t\tdelete body.begin, delete body.end, delete body.option;\n\t\treturn body;\n\t};\n\n\twrapHeteronym = body => {\n\t\tlet heteronym = body.heteronym;\n\t\tdelete body.heteronym;\n\t\tbody = { ...body, heteronym: { type: 'heteronym', heteronym } };\n\t\treturn body;\n\t};\n\n\twrapDateAndHeteronymElements = body => {\n\t\tif (body.type === 'date' || body.type === 'heteronym') return body;\n\t\tif (Object.keys(body).includes('option')) body = this.wrapDate(body);\n\t\tif (Object.keys(body).includes('heteronym')) body = this.wrapHeteronym(body);\n\t\treturn body;\n\t};\n\n\tonSearch = async () => {\n\t\tconst forms = Array.from(this.shadowRoot.querySelectorAll('form'));\n\t\tif (forms.some(form => !form.reportValidity())) return;\n\t\tlet body = forms.map(form =>\n\t\t\tthis.wrapDateAndHeteronymElements(Object.fromEntries(new FormData(form)))\n\t\t);\n\t\tadvancedSearch({ options: body, mode: this.mode })\n\t\t\t.then(data => {\n\t\t\t\tthis.inters = data;\n\t\t\t\tthis.criteriaNumber = body.map((c, i) => i);\n\t\t\t\tthis.fragsNumber = new Set(data.map(frag => frag.xmlId)).size;\n\t\t\t\tthis.intersNumber = data.length;\n\t\t\t\tthis.renderTableResult();\n\t\t\t})\n\t\t\t.catch(error => console.log(error));\n\t};\n\n\trenderTableResult = () => {\n\t\tthis.resultTable && this.resultTable.remove();\n\t\tthis.shadowRoot.appendChild(<AdvancedSearchTableResult root={this} />);\n\t};\n\n\tdisconnectedCallback() {}\n}\n!customElements.get('ldod-search-adv') &&\n\tcustomElements.define('ldod-search-adv', LdodSearchAdvanced);\n","/** @format */\n\nimport './ldod-search-advanced';\n\nconst mount = async (lang, ref) => {\n\tdocument.querySelector(ref).appendChild(<ldod-search-adv language={lang}></ldod-search-adv>);\n};\n\nconst unMount = () => document.querySelector('ldod-search-adv')?.remove();\n\nconst path = '/advanced';\n\nexport { mount, unMount, path };\n"],"names":["constants","frags","inters","pt","advancedSearch","criteriaAnd","criteriaOr","edition","manuscript","dactiloscript","publication","heteronym","taxonomy","virtualedition","date","text","includedIn","excludedFrom","all","search","criteriaType","editions","heteronyms","editionInclusion","veInclusion","virtualEdition","dated","notDated","beginDate","endDate","hasLdoDMark","withLdodLabel","withoutLdodLabel","keyword","fragment","fragments","createElement","interpretation","interpretations","sourceType","sourceTypeHeader","sourcesHeader","sources","typescript","both","yes","no","dateHeader","editionHeader","heteronymHeader","hasLdoDMarkHeader","en","es","async","name","__variableDynamicImportRuntimeHelper","assign","Promise","resolve","then","AdvancedSearchTableResult$1","import","default","searchTypeList","CriteriaForm","HTMLFormElement","constructor","criteria","this","getAttribute","criteriaFormElement","querySelector","observedAttributes","connectedCallback","render","appendChild","createFragment","id","class","required","onChange","onChangeCriteria","selected","map","opt","value","root","getConstants","onClick","onRemoveCriteria","attributeChangedCallback","onChangeAttribute","changedCriteriaHandler","target","setAttribute","criteriaForm","importCriteriaForm","form","insertCriteriaForm","replaceWith","sequentialId","remove","customElements","get","define","extends","getTableData","inter","criterias","criteriaNumber","reduce","prev","_","index","c","options","i","includes","externalId","data","is","content","to","textFrag","xmlId","fragTitle","textFragInter","urlId","title","editor","JSON","stringify","Object","values","join","AdvancedSearchTableResult","headers","classes","fragsNumber","intersNumber","language","LdodSearchAdvanced","HTMLElement","super","attachShadow","mode","resultTable","shadowRoot","key","fetchData","getAdvSearchDto","catch","e","console","error","style","onSearch","addCriteria","oldV","newV","onLanguage","querySelectorAll","forEach","element","firstChild","textContent","dataset","searchKey","wrapDate","body","begin","end","option","type","wrapHeteronym","wrapDateAndHeteronymElements","keys","forms","Array","from","some","reportValidity","fromEntries","FormData","Set","frag","size","length","renderTableResult","log","disconnectedCallback","mount","lang","ref","document","unMount","path"],"mappings":"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"}