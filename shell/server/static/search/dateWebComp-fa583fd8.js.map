{"version":3,"file":"dateWebComp-fa583fd8.js","sources":["../src/pages/search-advanced/components/dateWebComp.jsx"],"sourcesContent":["export default class DateSelect extends HTMLElement {\n  constructor(root, form) {\n    super();\n    this.root = root;\n    this.form = form;\n    this.hidden = true;\n  }\n\n  get edition() {\n    return this.getAttribute('edition');\n  }\n  get wrapper() {\n    return this.querySelector('div#date-wrapper');\n  }\n\n  static get observedAttributes() {\n    return ['edition'];\n  }\n\n  connectedCallback() {\n    this.appendChild(<div id=\"date-wrapper\"></div>);\n    this.render();\n  }\n\n  render() {\n    this.wrapper.innerHTML = '';\n    this.wrapper.appendChild(\n      <div class=\"form-floating\">\n        <select name=\"option\" class=\"form-select\" onChange={this.onDateChange}>\n          <option value=\"all\" data-search-key=\"all\" selected>\n            {this.root.getConstants('all')}\n          </option>\n          <option value=\"dated\" data-search-key=\"dated\">\n            {this.root.getConstants('dated')}\n          </option>\n          <option value=\"undated\" data-search-key=\"notDated\">\n            {this.root.getConstants('notDated')}\n          </option>\n        </select>\n        <label data-search-key=\"date\">{this.root.getConstants('date')}</label>\n      </div>\n    );\n  }\n\n  getYearsForm = () => {\n    return (\n      <>\n        <div class=\"form-floating\">\n          <input\n            style={{ height: 'auto', width: '175px' }}\n            id=\"begin-date-input\"\n            class=\"form-control\"\n            type=\"number\"\n            name=\"begin\"\n            min={this.beginDate}\n            max={this.endDate}\n            onChange={this.onBeginDateChange}\n            value={this.beginDate}\n            placeholder=\"beginDate\"\n          />\n          <label data-search-key=\"beginDate\">\n            {this.root.getConstants('beginDate')}\n          </label>\n        </div>\n        <div class=\"form-floating\">\n          <input\n            id=\"end-date-input\"\n            style={{ height: 'auto', width: '175px' }}\n            class=\"form-control\"\n            type=\"number\"\n            name=\"end\"\n            min={this.beginDate}\n            max={this.endDate}\n            onChange={this.onEndDateChange}\n            value={this.endDate}\n            placeholder=\"endDate\"\n          />\n          <label data-search-key=\"endDate\">\n            {this.root.getConstants('endDate')}\n          </label>\n        </div>\n      </>\n    );\n  };\n\n  onEndDateChange = ({ target }) => {\n    const beginDate = this.wrapper.querySelector('#begin-date-input');\n    beginDate.max = target.value;\n    beginDate.value =\n      beginDate.value > target.value ? target.value : beginDate.value;\n  };\n\n  onBeginDateChange = ({ target }) => {\n    const endDate = this.wrapper.querySelector('#end-date-input');\n    endDate.min = target.value;\n    endDate.value = endDate.value < target.value ? target.value : endDate.value;\n  };\n\n  attributeChangedCallback(name) {\n    this.onChangeAttribute[name]();\n  }\n  onChangeAttribute = {\n    edition: () => this.onEdition(),\n  };\n\n  onEdition = () => {\n    if (this.edition === 'all') return (this.hidden = true);\n    const expertEdition = this.root.data.editions.find(\n      (ed) => ed.acronym === this.edition\n    );\n    this.beginDate = expertEdition.beginDate;\n    this.endDate = expertEdition.endDate;\n    this.render();\n    this.hidden = false;\n  };\n\n  onDateChange = ({ target }) => {\n    if (target.value !== 'dated')\n      return this.wrapper\n        .querySelectorAll(':has(input)')\n        .forEach((inpt) => inpt.remove());\n    this.wrapper.appendChild(this.getYearsForm());\n  };\n}\n\n!customElements.get('date-select') &&\n  customElements.define('date-select', DateSelect);\n"],"names":["DateSelect","HTMLElement","constructor","root","form","this","hidden","edition","getAttribute","wrapper","querySelector","observedAttributes","connectedCallback","appendChild","createElement","id","render","innerHTML","class","name","onChange","onDateChange","value","selected","getConstants","getYearsForm","createFragment","style","height","width","type","min","beginDate","max","endDate","onBeginDateChange","placeholder","onEndDateChange","target","attributeChangedCallback","onChangeAttribute","onEdition","expertEdition","data","editions","find","ed","acronym","querySelectorAll","forEach","inpt","remove","customElements","get","define"],"mappings":"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"}