{"version":3,"file":"generate-topics-modal-d6a1ef5e.js","sources":["../src/pages/virtual-editions/pages/index/components/taxonomy/generated-topics-table.jsx","../src/pages/virtual-editions/pages/index/components/taxonomy/generate-topics-modal.jsx"],"sourcesContent":["export default ({ node, data }) => {\n  return (\n    <div id=\"generatedTopicsContainer\">\n      <ldod-table\n        id=\"virtual-topicsTable\"\n        classes=\"table  table-hover\"\n        headers={node.constants.topicsHeaders}\n        data-rows={data.topics.length}\n        data={data.topics.map((topic, key) => {\n          return {\n            id: String(key),\n            data: () => ({\n              topics: <strong>{topic.name}</strong>,\n              fragments: topic.inters.map((inter) => (\n                <>\n                  <em>{inter.title}</em>\n                  {` (${inter.percentage}) `}\n                </>\n              )),\n            }),\n            search: JSON.stringify(topic),\n          };\n        })}\n        constants={node.constants[node.language]}\n        data-searchkey=\"id\"></ldod-table>\n    </div>\n  );\n};\n","/** @format */\n\nimport { generateTopics } from './taxonomy-api-requests';\nimport GeneratedTopicsTable from './generated-topics-table';\n\nexport default ({ node, veId }) => {\n\tconst onGenerate = e => {\n\t\te.preventDefault();\n\t\tconst body = Object.fromEntries(new FormData(e.target));\n\t\tgenerateTopics(veId, body)\n\t\t\t.then(data => {\n\t\t\t\tnode.topics = data;\n\t\t\t\tnode.querySelector('#virtual-generated-topics-container').replaceWith(\n\t\t\t\t\t<GeneratedTopicsTable node={node} data={data} />\n\t\t\t\t);\n\t\t\t})\n\t\t\t.catch(error => console.error(error));\n\n\t\t// TODO handle Error\n\t};\n\n\treturn (\n\t\t<ldod-bs-modal id=\"virtual-generate-topics-modal\" dialog-class=\"modal-xl\">\n\t\t\t<h5 slot=\"header-slot\" style={{ margin: 0 }}>\n\t\t\t\t<span>{node.getConstants('generateTopicsTitle')}</span>\n\t\t\t</h5>\n\t\t\t<div slot=\"body-slot\">\n\t\t\t\t<div style={{ padding: '20px' }}>\n\t\t\t\t\t<form onSubmit={onGenerate}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"generateTopicsInputs\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\t\t\tgap: '20px',\n\t\t\t\t\t\t\t\tflexWrap: 'wrap',\n\t\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"numTopics\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"topics\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tplaceholder=\"Topics\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label data-virtual-key=\"topics\">\n\t\t\t\t\t\t\t\t\t{node.getConstants('topics')}\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"numWords\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tmax={10}\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"words\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tplaceholder=\"Words\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label data-virtual-key=\"words\">{node.getConstants('words')}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"thresholdCategories\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"cut\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tplaceholder=\"threshold\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label data-virtual-key=\"cut\">{node.getConstants('cut')}</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"numIterations\"\n\t\t\t\t\t\t\t\t\ttype=\"input\"\n\t\t\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\t\t\t\tid=\"iterations\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tplaceholder=\"Iterations\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label data-virtual-key=\"iterations\">\n\t\t\t\t\t\t\t\t\t{node.getConstants('iterations')}\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tis=\"ldod-span-icon\"\n\t\t\t\t\t\t\t\t\ticon=\"gear\"\n\t\t\t\t\t\t\t\t\tsize=\"16px\"\n\t\t\t\t\t\t\t\t\tfill=\"#fff\"></span>\n\t\t\t\t\t\t\t\t<span data-virtual-key=\"generate\">\n\t\t\t\t\t\t\t\t\t{node.getConstants('generate')}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{['topics', 'words', 'cut', 'iterations'].map(id => (\n\t\t\t\t\t\t\t\t<ldod-tooltip\n\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\tdata-ref={`input#${id}`}\n\t\t\t\t\t\t\t\t\tdata-virtual-tooltip-key={`${id}Info`}\n\t\t\t\t\t\t\t\t\twidth=\"500px\"\n\t\t\t\t\t\t\t\t\tcontent={node.getConstants(`${id}Info`)}></ldod-tooltip>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t\t<div id=\"virtual-generated-topics-container\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div slot=\"footer-slot\">\n\t\t\t\t<div>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclass=\"btn btn-primary\"\n\t\t\t\t\t\tonClick={() => node.onAddTopics(veId)}>\n\t\t\t\t\t\t{node.getConstants('addCats')}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</ldod-bs-modal>\n\t);\n};\n"],"names":["GeneratedTopicsTable","node","data","createElement","id","classes","headers","constants","topicsHeaders","topics","length","map","topic","key","String","name","fragments","inters","inter","createFragment","title","percentage","search","JSON","stringify","language","generateTopicsModal","veId","slot","style","margin","getConstants","padding","onSubmit","e","preventDefault","body","Object","fromEntries","FormData","target","generateTopics","then","querySelector","replaceWith","catch","console","error","display","justifyContent","gap","flexWrap","class","type","min","max","required","placeholder","is","icon","size","fill","width","content","onClick","onAddTopics"],"mappings":"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"}