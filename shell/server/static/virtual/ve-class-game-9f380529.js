import{createElement as t}from"@core";import{g as e}from"./virtual-editions-router-09df2ce5.js";import{c as a}from"./constants-833df29c.js";import"./virtual.js";import"./event-module-0f223477.js";await import("@ui/table.js");const l=({node:e})=>t("div",null,t("h3",{class:"text-center"},t("span",{"data-virtual-key":"game"},e.getConstants("game")),":"," ",t("span",null,e.game.veTitle)),t("div",{id:"gameData"},t("h4",null,t("div",{class:"text-center"},t("span",{"data-virtual-key":"winner"},e.getConstants("winner")),t("span",null,": "),t("span",null,e.game.winnerUsername)),t("div",{class:"text-center"},t("span",{"data-virtual-key":"category"},e.getConstants("category")),t("span",null,": "),t("span",null,e.game.winnerUsername)))),t("ldod-table",{id:"virtual-veClassGameTable",classes:"table  table-hover",headers:e.constants.gameTable,data:e.game.participants.sort(((t,e)=>e.score-t.score)).map(((t,e)=>({externalId:t.externalId,position:++e,username:t.username,score:t.score.toString(),search:JSON.stringify(t)}))),constants:e.constants,language:e.language,"data-searchkey":"externalId"})," ");class n extends HTMLElement{constructor(t){super(),this.language=t,this.constants=a}set language(t){this.setAttribute("language",t)}get language(){return this.getAttribute("language")}static get observedAttributes(){return["language"]}fetchData=async()=>{await e(history.state?.gameId).then((t=>this.game=t)).catch((t=>console.error(t)))};getConstants=t=>this.constants[this.language][t];async connectedCallback(){await this.fetchData(),this.render()}render=()=>{this.appendChild(t("style",null,"a{color:#337ab7;text-decoration:none;cursor:pointer}a:focus{outline:5px auto -webkit-focus-ring-color;outline-offset:-2px}a:focus,a:hover{color:#23527c;text-decoration:underline}div#virtualEditionInfo{padding-top:20px}p{margin:0 0 10px;text-align:justify}ldod-table#virtual-veClassGameTable .table-container{border:none!important}table#virtual-veClassGameTable{border-collapse:collapse!important}table#virtual-veClassGameTable th{border-top:none!important}table#virtual-veClassGameTable>thead>tr>th:nth-child(2),table#virtual-userVeTable>thead>tr>th:nth-child(1),table#virtual-userVeTable>thead>tr>th:nth-child(2),table#virtual-userVeTable>thead>tr>th:nth-child(3),table#virtual-userVeTable>thead>tr>th:nth-child(4),table#virtual-categoryVeTable>thead>tr>th:nth-child(1),table#virtual-categoryVeTable>thead>tr>th:nth-child(2),table#virtual-categoryVeTable>thead>tr>th:nth-child(3),table#virtual-categoryVeTable>thead>tr>th:nth-child(4),table#virtual-taxonomyVeTable>thead>tr>th:nth-child(1),table#virtual-taxonomyVeTable>thead>tr>th:nth-child(2),table#virtual-taxonomyVeTable>thead>tr>th:nth-child(3),table#virtual-taxonomyVeTable>thead>tr>th:nth-child(4),table#virtual-virtualEditionTable>thead>tr>th:nth-child(2),table#virtual-virtualEditionTable>thead>tr>th:nth-child(3){text-align:start}table#virtual-veClassGameTable>tbody>tr>td:nth-child(1),table#virtual-veClassGameTable>tbody>tr>td:nth-child(3),table#virtual-virtualEditionTable>tbody>tr>td:nth-child(1),table#virtual-virtualEditionTable>tbody>tr>td:nth-child(4){text-align:center}\n")),this.appendChild(t(l,{node:this}))};attributeChangedCallback(t,e,a){this.onChangeAttribute[t](e,a)}onChangeAttribute={language:(t,e)=>t&&t!==e&&this.handleChangeLanguage()};handleChangeLanguage=()=>{this.querySelectorAll("[data-virtual-key]").forEach((t=>{t.firstChild.textContent=this.getConstants(t.dataset.virtualKey)}))};disconnectedCallback(){}}!customElements.get("ldod-ve-class-game")&&customElements.define("ldod-ve-class-game",n);const r=async(t,e)=>{document.querySelector(e).appendChild(new n(t))},i=()=>document.querySelector("ldod-ve-class-game")?.remove(),s="/:veId/game/:gameId";export{r as mount,s as path,i as unMount};
//# sourceMappingURL=ve-class-game-9f380529.js.map
