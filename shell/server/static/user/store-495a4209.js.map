{"version":3,"file":"store-495a4209.js","sources":["../src/store.js"],"sourcesContent":["/** @format */\n\nimport { getPartialStorage, Store } from '@core';\n\nexport let storageState;\n\nconst getStorageState = () => {\n\tstorageState = getPartialStorage('ldod-store', ['token', 'language']);\n\treturn {\n\t\ttoken: storageState?.token,\n\t\tlanguage: storageState?.language,\n\t};\n};\n\nexport const store = new Store({ ...getStorageState(), user: undefined });\nexport const getState = () => store.getState();\nexport const setState = state => store.setState(state);\nexport const userFullName = () => `${getState().user?.firstName} ${getState().user?.lastName}`;\nexport const getUser = () => getState().user;\nexport const getToken = () => getState().token;\n\nexport function isAdmin() {\n\tconst user = getUser();\n\treturn user && user.roles.includes('ROLE_ADMIN');\n}\n\nexport function isAuth() {\n\treturn getUser() && getToken();\n}\n\nwindow.addEventListener('storage', e => {\n\tconsole.log(e);\n\tsetState({ ...getState(), ...getStorageState() });\n});\n"],"names":["storageState","getStorageState","getPartialStorage","token","language","store","Store","user","getState","setState","state","userFullName","firstName","lastName","getUser","getToken","isAdmin","roles","includes","isAuth","window","addEventListener","e","console","log"],"mappings":"qDAIU,IAACA,EAEX,MAAMC,EAAkB,KACvBD,EAAeE,EAAkB,aAAc,CAAC,QAAS,aAClD,CACNC,MAAOH,GAAcG,MACrBC,SAAUJ,GAAcI,WAIbC,EAAQ,IAAIC,EAAM,IAAKL,IAAmBM,UAAM,IAChDC,EAAW,IAAMH,EAAMG,WACvBC,EAAWC,GAASL,EAAMI,SAASC,GACnCC,EAAe,IAAM,GAAGH,IAAWD,MAAMK,aAAaJ,IAAWD,MAAMM,WACvEC,EAAU,IAAMN,IAAWD,KAC3BQ,EAAW,IAAMP,IAAWL,MAElC,SAASa,IACf,MAAMT,EAAOO,IACb,OAAOP,GAAQA,EAAKU,MAAMC,SAAS,aACpC,CAEO,SAASC,IACRL,OAAAA,KAAaC,GACrB,CAEAK,OAAOC,iBAAiB,WAAgBC,IAC/BC,QAAAC,IAAIF,GACZb,EAAS,IAAKD,OAAeP,KAAmB"}