{"version":3,"file":"google-auth-919243dc.js","sources":["../src/pages/signin/google-auth.js"],"sourcesContent":["/** @format */\n\nimport { socialAuthRequest } from '../../api-requests';\nimport { errorPublisher, messagePublisher } from '../../events-modules';\nimport { onAuthSuccess } from '../common-functions';\nimport constants from '../constants';\n\nconst G_CLIENT_ID = {\n\tclient_id: '180526053205-km4c6tgpnh3j7orrmh0sgm81bibnpl1c.apps.googleusercontent.com',\n};\n\nlet gPrompt;\nlet language;\n\nconst script = document.createElement('script');\nscript.src = 'https://accounts.google.com/gsi/client';\nscript.onload = () => {\n\tconst id = window.google.accounts.id;\n\tid.initialize({\n\t\t...G_CLIENT_ID,\n\t\tcallback: ({ credential }) => handleCredentials(credential, onAuthSuccess),\n\t});\n\tgPrompt = id.prompt;\n};\n\ndocument.head.appendChild(script);\n\nfunction handleCredentials(accessToken, callback) {\n\tsocialAuthRequest('google', { accessToken }, callback)\n\t\t.then(\n\t\t\tresponse =>\n\t\t\t\tresponse?.message && messagePublisher(constants[language || 'en'][response.message])\n\t\t)\n\t\t.catch(error => errorPublisher(constants[error?.message]));\n}\n\nexport default lang => {\n\tlanguage = lang;\n\tif (gPrompt) gPrompt();\n};\n"],"names":["G_CLIENT_ID","client_id","gPrompt","language","script","document","createElement","src","onload","id","window","google","accounts","initialize","callback","credential","accessToken","socialAuthRequest","then","response","message","messagePublisher","constants","catch","error","errorPublisher","handleCredentials","onAuthSuccess","prompt","head","appendChild","googleAuth","lang"],"mappings":"iQAOA,MAAMA,EAAc,CACnBC,UAAW,4EAGZ,IAAIC,EACAC,EAEJ,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAM,yCACbH,EAAOI,OAAS,KACTC,MAAAA,EAAKC,OAAOC,OAAOC,SAASH,GAClCA,EAAGI,WAAW,IACVb,EACHc,SAAU,EAAGC,WAAAA,KAOf,SAA2BC,EAAaF,GACvCG,EAAkB,SAAU,CAAED,YAAAA,GAAeF,GAC3CI,MACAC,GACCA,GAAUC,SAAWC,EAAiBC,EAAUnB,GAAY,MAAMgB,EAASC,YAE5EG,OAAMC,GAASC,EAAeH,EAAUE,GAAOJ,WAClD,CAdgCM,CAAkBX,EAAYY,KAE7DzB,EAAUO,EAAGmB,MAAA,EAGdvB,SAASwB,KAAKC,YAAY1B,GAW1B,MAAA2B,EAAeC,IACd7B,EAAW6B,EACP9B,GAASA"}