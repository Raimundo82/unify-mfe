{"version":3,"file":"manage-users-ce591de9.js","sources":["../src/pages/manage-users/constants.js","../src/pages/manage-users/components/update-user-form.jsx","../src/pages/manage-users/components/users-list-table.jsx","../src/pages/manage-users/components/users-title.jsx","../src/pages/manage-users/components/admin-mode-button.jsx","../src/pages/manage-users/components/sessions-list-table.jsx","../src/pages/manage-users/components/delete-sessions-button.jsx","../src/pages/manage-users/ldod-manage-users.js","../src/pages/manage-users/update-user-modal.js","../src/pages/manage-users/manage-users-table.jsx","../src/pages/manage-users/manage-users.js"],"sourcesContent":["/** @format */\n\nexport default {\n\tsessionListHeaders: ['username', 'firstName', 'lastName', 'lastRequest', 'sessionId'],\n\tusersListHeaders: [\n\t\t'username',\n\t\t'firstName',\n\t\t'lastName',\n\t\t'enabled',\n\t\t'roles',\n\t\t'lastLogin',\n\t\t'active',\n\t\t'actions',\n\t],\n\tpt: {\n\t\tTRUE: 'Sim',\n\t\tFALSE: 'Não',\n\t\tusers: 'Utilizadores',\n\t\tuser: 'Utilizador',\n\t\tadmin: 'Administrador',\n\t\tsessions: 'Sessões',\n\t\tusername: 'Nome de utilizador',\n\t\tfirstName: 'Primeiro nome',\n\t\tlastName: 'Apelido',\n\t\tlastRequest: 'Último Pedido',\n\t\tsessionId: 'ID da Sessão',\n\t\tenabled: 'Confirmado',\n\t\troles: 'Papeis',\n\t\tlastLogin: 'Último acesso',\n\t\tactions: 'Acções',\n\t\tactive: 'Ativo',\n\t\ttooltipActions: 'Editar/Eliminar',\n\t\teditUserHeader: 'Alterar utilizador',\n\t\tupdate: 'Atualizar',\n\t\temail: 'Endereço eletrónico',\n\t\tnewPassword: 'Nova Senha',\n\t\ttoggleActiveMode: 'Alterar estado ativo',\n\t\tchangeLdodMode: 'Alterar modo do LdoD',\n\t\tdeleteUserSessions: 'Eliminar sessões de utilizador',\n\t\tuserMode: 'Modo utilizador',\n\t\tadminMode: 'Modo administrador',\n\t\tuploadUsers: 'Carregar Utilizadores',\n\t\texportUsers: 'Exportar Utilizadores',\n\t},\n\ten: {\n\t\tTRUE: 'Yes',\n\t\tFALSE: 'No',\n\t\tusers: 'Users',\n\t\tuser: 'User',\n\t\tadmin: 'Administrator',\n\t\tsessions: 'Sessions',\n\t\tusername: 'Username',\n\t\tfirstName: 'First Name',\n\t\tlastName: 'Last Name',\n\t\tlastRequest: 'Last Request',\n\t\tsessionId: 'Session ID',\n\t\tenabled: 'Enabled',\n\t\troles: 'Roles',\n\t\tlastLogin: 'Last login',\n\t\tactions: 'Actions',\n\t\tactive: 'Active',\n\t\ttooltipActions: 'Edit/Delete',\n\t\teditUserHeader: 'Edit user',\n\t\tupdate: 'Update',\n\t\temail: 'Email',\n\t\tnewPassword: 'New Password',\n\t\ttoggleActiveMode: 'Toggle active state',\n\t\tchangeLdodMode: 'Change LdoD mode',\n\t\tdeleteUserSessions: 'Delete user sessions',\n\t\tuserMode: 'User mode',\n\t\tadminMode: 'Administrator mode',\n\t\tuploadUsers: 'Upload Users',\n\t\texportUsers: 'Export Users',\n\t},\n\tes: {\n\t\tTRUE: 'Sí',\n\t\tFALSE: 'No',\n\t\tusers: 'Usuarios',\n\t\tuser: 'Usuario',\n\t\tadmin: 'Administrador',\n\t\tsessions: 'Sesiones',\n\t\tusername: 'Nombre de usuario',\n\t\tfirstName: 'Primer nombre',\n\t\tlastName: 'Apellido',\n\t\tlastRequest: 'Última Petición',\n\t\tsessionId: 'ID de sesión',\n\t\tenabled: 'Confirmado',\n\t\troles: 'Funciones',\n\t\tlastLogin: 'Último acceso',\n\t\tactions: 'Acciones',\n\t\tactive: 'Activo',\n\t\ttooltipActions: 'Editar/Eliminar',\n\t\teditUserHeader: 'Editar usuario',\n\t\tupdate: 'Actualizar',\n\t\temail: 'Correo electrónico',\n\t\tnewPassword: 'Nueva contraseña',\n\t\ttoggleActiveMode: 'Cambiar estado activo',\n\t\tchangeLdodMode: 'Cambiar el modo LdoD',\n\t\tdeleteUserSessions: 'Eliminar sesiones de usuario',\n\t\tuserMode: 'Modo de usuario',\n\t\tadminMode: 'Modo administrador',\n\t\tuploadUsers: 'Carregar Usuarios',\n\t\texportUsers: 'Exportar Usuarios',\n\t},\n};\n","/** @format */\n\nexport default ({ user, root }) => {\n\treturn (\n\t\t<div>\n\t\t\t<form role=\"form\" onSubmit={root.onUpdate}>\n\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"firstname\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tplaceholder=\"firstname\"\n\t\t\t\t\t\tname=\"firstName\"\n\t\t\t\t\t\tvalue={user.firstName}\n\t\t\t\t\t/>\n\t\t\t\t\t<label data-users-key=\"firstName\">{root.getConstant('firstName')}</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"lastname\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"lastName\"\n\t\t\t\t\t\tplaceholder=\"lastname\"\n\t\t\t\t\t\tvalue={user.lastName}\n\t\t\t\t\t/>\n\t\t\t\t\t<label data-users-key=\"lastName\">{root.getConstant('lastName')}</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t<input type=\"hidden\" value={user.username} name=\"oldUsername\" />\n\t\t\t\t\t<input\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"newUsername\"\n\t\t\t\t\t\tplaceholder=\"username\"\n\t\t\t\t\t\tvalue={user.username}\n\t\t\t\t\t/>\n\t\t\t\t\t<label for=\"username\" data-users-key=\"username\">\n\t\t\t\t\t\t{root.getConstant('username')}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"newPassword\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"newPassword\"\n\t\t\t\t\t\tplaceholder={root.getConstant('newPassword')}\n\t\t\t\t\t/>\n\t\t\t\t\t<label for=\"newPassoword\" data-users-key=\"newPassword\">\n\t\t\t\t\t\t{root.getConstant('newPassword')}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"form-floating\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\tclass=\"form-control\"\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\tplaceholder=\"email\"\n\t\t\t\t\t\tvalue={user.email}\n\t\t\t\t\t/>\n\t\t\t\t\t<label for=\"email\" data-users-key=\"email\">\n\t\t\t\t\t\t{root.getConstant('email')}\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label data-users-key=\"user\">{root.getConstant('user')}</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"switch\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"user\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tvalue=\"true\"\n\t\t\t\t\t\t\t\t\tchecked={user.roles.includes('ROLE_USER')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"slider round\"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label data-users-key=\"admin\">{root.getConstant('admin')}</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"switch\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"admin\"\n\t\t\t\t\t\t\t\t\tvalue=\"true\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tchecked={user.roles.includes('ROLE_ADMIN')}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"slider round\"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<label data-users-key=\"enabled\">{root.getConstant('enabled')}</label>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"switch\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tname=\"enabled\"\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tvalue=\"true\"\n\t\t\t\t\t\t\t\t\tchecked={user.enabled}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span class=\"slider round\"></span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\" data-users-key=\"update\">\n\t\t\t\t\t{root.getConstant('update')}\n\t\t\t\t</button>\n\t\t\t</form>\n\t\t</div>\n\t);\n};\n","/** @format */\n\nimport { changeActiveRequest } from '@src/api-requests.js';\nimport '@ui/modal-bs.js';\nimport '@ui/table.js';\nimport constants from '../constants.js';\nimport UptadeUserForm from './update-user-form.jsx';\n\nconst onChangeActive = async (externalId, root) => {\n\tchangeActiveRequest(externalId).then(res => {\n\t\tconst user = root.usersData.userList.find(user => user.externalId === externalId);\n\t\tuser.active = res.ok;\n\t\treplaceActive(root, user);\n\t});\n};\n\nconst replaceActive = (root, user) => {\n\tconst newActive = getUsersListActive(root, user);\n\troot.shadowRoot.querySelector(`#active-${user.externalId}`).replaceWith(newActive);\n};\n\nconst onEditUser = async ({ target }, root) => {\n\tconst user = root.usersData.userList.find(({ externalId }) => externalId === target.dataset.id);\n\tconst modal = root.usersEditModal;\n\tif (!modal) return;\n\tconst bodySlot = modal.querySelector(\"div[slot='body-slot']\");\n\tbodySlot.innerHTML = '';\n\tbodySlot.appendChild(<UptadeUserForm user={user} root={root} />);\n\tmodal.toggleAttribute('show');\n};\n\nconst getUsersListActive = (root, user) => {\n\tconst active = user.active;\n\tconst id = user.externalId;\n\treturn (\n\t\t<div id={`active-${id}`} class=\"text-center\">\n\t\t\t<button\n\t\t\t\tid={`button-active-${id}`}\n\t\t\t\tclass={`btn btn-sm`}\n\t\t\t\tonClick={() => onChangeActive(id, root)}>\n\t\t\t\t<span\n\t\t\t\t\tis=\"ldod-span-icon\"\n\t\t\t\t\ticon={active ? 'circle-check' : 'circle-xmark'}\n\t\t\t\t\tfill={active ? '#198754' : '#dc3545'}\n\t\t\t\t\tsize=\"1.25rem\"></span>\n\t\t\t</button>\n\t\t</div>\n\t);\n};\n\nconst getUsersListActions = (root, user) => {\n\tconst username = user.username;\n\tconst id = user.externalId;\n\treturn (\n\t\t<div class=\"text-center\">\n\t\t\t<div id=\"row-user-actions\">\n\t\t\t\t<span\n\t\t\t\t\tid={`edit-icon-${id}`}\n\t\t\t\t\tdata-id={id}\n\t\t\t\t\tis=\"ldod-span-icon\"\n\t\t\t\t\ticon=\"pen-to-square\"\n\t\t\t\t\tfill=\"#0d6efd\"\n\t\t\t\t\tsize=\"1.25rem\"\n\t\t\t\t\tonClick={e => onEditUser(e, root)}></span>\n\t\t\t\t<span\n\t\t\t\t\tid={`trash-icon-${id}`}\n\t\t\t\t\tdata-id={id}\n\t\t\t\t\tdata-username={username}\n\t\t\t\t\tis=\"ldod-span-icon\"\n\t\t\t\t\ticon=\"trash-can\"\n\t\t\t\t\tfill=\"#dc3545\"\n\t\t\t\t\tsize=\"1.25rem\"\n\t\t\t\t\tonClick={root.onDeleteUser}></span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default ({ root }) => {\n\tconst usersData = root.usersData;\n\tconst language = root.language;\n\treturn (\n\t\t<div>\n\t\t\t<div id=\"users-list\" class=\"row\">\n\t\t\t\t<ldod-table\n\t\t\t\t\tid=\"user-users-list-table\"\n\t\t\t\t\tclasses=\"table table-responsive-sm table-striped table-bordered\"\n\t\t\t\t\theaders={constants.usersListHeaders}\n\t\t\t\t\tdata={usersData.userList.map(user => ({\n\t\t\t\t\t\t...user,\n\t\t\t\t\t\tenabled: (\n\t\t\t\t\t\t\t<div data-users-key={String(user.enabled).toUpperCase()}>\n\t\t\t\t\t\t\t\t{root.getConstant(String(user.enabled).toUpperCase())}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t),\n\t\t\t\t\t\tactive: getUsersListActive(root, user),\n\t\t\t\t\t\tactions: getUsersListActions(root, user),\n\t\t\t\t\t\tsearch: Object.values(user).reduce((prev, curr) => {\n\t\t\t\t\t\t\treturn prev.concat(String(curr), ',');\n\t\t\t\t\t\t}, ''),\n\t\t\t\t\t}))}\n\t\t\t\t\tconstants={constants[language]}\n\t\t\t\t\tdata-searchkey=\"externalId\"></ldod-table>\n\t\t\t\t<ldod-tooltip\n\t\t\t\t\tdata-ref=\"table>thead>tr>th[data-key='actions']\"\n\t\t\t\t\tdata-users-tooltip-key=\"tooltipActions\"\n\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\tcontent={root.getConstant('tooltipActions')}></ldod-tooltip>\n\t\t\t\t<ldod-tooltip\n\t\t\t\t\tplacement=\"top\"\n\t\t\t\t\tdata-ref=\"table>thead>tr>th[data-key='active']\"\n\t\t\t\t\tdata-users-tooltip-key=\"toggleActiveMode\"\n\t\t\t\t\tcontent={root.getConstant('toggleActiveMode')}></ldod-tooltip>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n","/** @format */\n\nexport default ({ root, title }) => {\n\treturn (\n\t\t<h2 id=\"title\" class=\"text-center\">\n\t\t\t<span data-users-key=\"users\">{title}</span>\n\t\t\t<span>&nbsp;({root.usersLength})</span>\n\t\t</h2>\n\t);\n};\n","/** @format */\n\nimport { switchModeRequest } from '@src/api-requests.js';\n\nexport default ({ root, buttonLabel, tooltipContent }) => {\n\tconst updateClass = () =>\n\t\troot.getMode() === 'admin' ? 'btn btn-danger ellipsis' : 'btn btn-success ellipsis';\n\n\tconst onSwitchMode = () => {\n\t\tswitchModeRequest().then(res => {\n\t\t\tres && root.setMode(res.ok);\n\t\t\tconst button = root.shadowRoot.querySelector('button#user-switch-mode-button');\n\t\t\tbutton.querySelector('span[label]').textContent = root.getConstant(\n\t\t\t\t`${root.getMode()}Mode`\n\t\t\t);\n\t\t\tbutton.setAttribute('class', updateClass());\n\t\t});\n\t};\n\n\treturn (\n\t\t<div id=\"adminMode\" class=\"row btn-row\">\n\t\t\t<button\n\t\t\t\tid=\"user-switch-mode-button\"\n\t\t\t\ttooltip-ref=\"switch-button\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass={updateClass()}\n\t\t\t\tonClick={onSwitchMode}>\n\t\t\t\t<span class=\"icon icon-edit\"></span>\n\t\t\t\t<span label>{buttonLabel}</span>\n\t\t\t</button>\n\t\t\t<ldod-tooltip\n\t\t\t\tplacement=\"top\"\n\t\t\t\tdata-ref=\"[tooltip-ref='switch-button']\"\n\t\t\t\tdata-users-tooltip-key=\"changeLdodMode\"\n\t\t\t\tcontent={tooltipContent}></ldod-tooltip>\n\t\t</div>\n\t);\n};\n","/** @format */\n\nimport constants from '../constants.js';\n\nexport default ({ root }) => {\n\treturn (\n\t\t<div id=\"sessions-list\" class=\"row\">\n\t\t\t<ldod-table\n\t\t\t\tid=\"user-sessionsListTable\"\n\t\t\t\tclasses=\"table table-responsive-sm table-striped table-bordered\"\n\t\t\t\theaders={constants.sessionListHeaders}\n\t\t\t\tdata={root.usersData.sessionList.map(row => ({\n\t\t\t\t\t...row,\n\t\t\t\t\tsearch: Object.values(row).reduce((prev, curr) => {\n\t\t\t\t\t\treturn prev.concat(String(curr), ',');\n\t\t\t\t\t}, ''),\n\t\t\t\t}))}\n\t\t\t\tlanguage={root.language}\n\t\t\t\tconstants={constants}\n\t\t\t\tdata-searchkey=\"sessionId\"></ldod-table>\n\t\t</div>\n\t);\n};\n","/** @format */\n\nimport { deleteSessionsRequest } from '@src/api-requests.js';\nimport SessionsListTable from './sessions-list-table';\n\nexport default ({ root, content }) => {\n\tconst onDeleteSessions = () => {\n\t\tdeleteSessionsRequest().then(data => {\n\t\t\troot.usersData.sessionList = data.sessionList;\n\t\t\troot.shadowRoot\n\t\t\t\t.querySelector('div#sessions-list')\n\t\t\t\t.replaceChildren(<SessionsListTable root={root} />);\n\t\t});\n\t};\n\treturn (\n\t\t<div id=\"deleteSessions\" class=\"row btn-row\">\n\t\t\t<button\n\t\t\t\ttooltip-ref=\"delete-sessions-button\"\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"btn btn-danger ellipsis\"\n\t\t\t\tonClick={onDeleteSessions}>\n\t\t\t\t<span class=\"icon icon-edit\"></span>\n\t\t\t\t<span label data-key=\"deleteUserSessions\">\n\t\t\t\t\t{content}\n\t\t\t\t</span>\n\t\t\t</button>\n\t\t\t<ldod-tooltip\n\t\t\t\tplacement=\"top\"\n\t\t\t\tdata-ref=\"[tooltip-ref='delete-sessions-button']\"\n\t\t\t\tdata-users-tooltip-key=\"deleteUserSessions\"\n\t\t\t\tcontent={content}></ldod-tooltip>\n\t\t</div>\n\t);\n};\n","/** @format */\n// Include the typedefs file\n/// <reference path=\"../../typedef.js\" />\n\nimport { getUsersList, removeUserRequest, updateUserRequest } from '../../api-requests';\nimport ManageUsersTable from './manage-users-table';\nimport { exportButton, uploadButton } from '@ui/buttons.js';\nimport UpdateModal from './update-user-modal.js';\n\nimport style from './manage-users-style.css?inline';\nimport rootCss from '@ui/bootstrap/root-css.js';\nimport formsCss from '@ui/bootstrap/forms-css.js';\nimport buttonsCss from '@ui/bootstrap/buttons-css.js';\nimport switchCss from './switch.css?inline';\nimport constants from './constants';\nimport { errorPublisher, messagePublisher } from '../../events-modules';\nimport { getUser, setState } from '../../store';\n\nconst sheet = new CSSStyleSheet();\nsheet.replaceSync(rootCss + formsCss + buttonsCss + switchCss + style);\n\nexportButton();\nuploadButton();\n\nasync function loadToolip() {\n\tawait import('@ui/tooltip.js');\n}\n\nexport class LdodManageUsers extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.attachShadow({ mode: 'open' });\n\t\tthis.shadowRoot.adoptedStyleSheets = [sheet];\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn ['language'];\n\t}\n\n\tget language() {\n\t\treturn this.getAttribute('language');\n\t}\n\n\tget usersLength() {\n\t\treturn this.usersData?.userList?.length;\n\t}\n\n\tget usersEditModal() {\n\t\treturn this.shadowRoot.querySelector('ldod-bs-modal');\n\t}\n\n\tgetData() {\n\t\treturn Promise.resolve(\n\t\t\tgetUsersList()\n\t\t\t\t.then(users => (this.usersData = users))\n\t\t\t\t.catch(e => console.error(e))\n\t\t);\n\t}\n\n\tgetConstant(key) {\n\t\treturn constants[this.language][key];\n\t}\n\n\tconnectedCallback() {\n\t\tthis.getData().then(() => {\n\t\t\tif (!this.usersData) return;\n\t\t\tthis.shadowRoot.innerHTML = /*html*/ `\n\t\t\t\t<div class=\"container\"></div>\n\t\t\t\t${UpdateModal(this)}\n\t\t\t`;\n\t\t\tthis.render();\n\t\t});\n\t}\n\n\trender() {\n\t\tthis.shadowRoot.firstElementChild.replaceWith(ManageUsersTable(this));\n\t\tthis.addEventListeners();\n\t}\n\n\tattributeChangedCallback(name, oldV, newV) {\n\t\tthis.handlers[name](oldV, newV);\n\t}\n\n\thandlers = {\n\t\tlanguage: (oldV, newV) => {\n\t\t\tif (oldV && newV !== oldV) this.handleChangeLanguage();\n\t\t},\n\t};\n\n\thandleChangeLanguage() {\n\t\tthis.shadowRoot.querySelectorAll('[data-key]').forEach(ele => {\n\t\t\tele.textContent = this.getConstant(ele.dataset.key);\n\t\t});\n\t\tthis.shadowRoot.querySelectorAll('[data-users-key]').forEach(ele => {\n\t\t\tele.textContent = this.getConstant(ele.dataset.usersKey);\n\t\t});\n\t\tthis.shadowRoot.querySelectorAll('[title]').forEach(ele => {\n\t\t\tele.setAttribute('title', this.getConstant(ele.dataset.usersKey));\n\t\t});\n\t\tthis.shadowRoot.querySelectorAll('[data-users-tooltip-key]').forEach(ele => {\n\t\t\tele.setAttribute('content', this.getConstant(ele.dataset.usersTooltipKey));\n\t\t});\n\n\t\tthis.shadowRoot\n\t\t\t.querySelectorAll('[language]')\n\t\t\t.forEach(ele => ele.setAttribute('language', this.language));\n\t}\n\n\taddEventListeners() {\n\t\tthis.addEventListener('ldod:file-uploaded', this.handleUsersUpload);\n\t\tthis.shadowRoot\n\t\t\t.querySelector('div.container')\n\t\t\t.addEventListener('pointerenter', loadToolip, { once: true });\n\t\tthis.addEventListener('ldod-table-searched', this.updateUsersListTitleOnSearch);\n\t}\n\n\thandleUsersUpload = e => {\n\t\te.stopPropagation();\n\t\tconst payload = e.detail.payload;\n\t\tif (!payload.ok) return errorPublisher(payload.message);\n\t\tthis.getData().then(() => {\n\t\t\tthis.render();\n\t\t\tmessagePublisher(payload.message);\n\t\t});\n\t};\n\n\tupdateUsersListTitleOnSearch = ({ detail }) => {\n\t\tif (detail.id === 'user-users-list-table') {\n\t\t\tconst size = this.shadowRoot.querySelectorAll(\n\t\t\t\t'table#user-users-list-table tr[searched]'\n\t\t\t).length;\n\t\t\tthis.shadowRoot.querySelector(\n\t\t\t\t'h2#title :not([data-users-key])'\n\t\t\t).innerHTML = `&nbsp;(${size})`;\n\t\t}\n\t};\n\n\tgetMode() {\n\t\treturn this.usersData.ldoDAdmin ? 'admin' : 'user';\n\t}\n\n\tsetMode(mode) {\n\t\tthis.usersData.ldoDAdmin = mode;\n\t}\n\n\tonSwitchTopic = e => {\n\t\tthis.shadowRoot.querySelectorAll('div[topic]').forEach(ele => ele.toggleAttribute('show'));\n\t\te.target.textContent = `Switch to ${\n\t\t\tthis.shadowRoot.querySelector('div[topic]:not([show])')?.id\n\t\t}`;\n\t};\n\n\tonDeleteUser = ({ target }) => {\n\t\tif (!confirm(`Delete user ${target.dataset.username} ?`)) return;\n\t\tremoveUserRequest(target.dataset.id)\n\t\t\t.then(res => {\n\t\t\t\tthis.usersData.userList = res.userList;\n\t\t\t\tthis.render();\n\t\t\t})\n\t\t\t.catch(e => console.error(e));\n\t};\n\n\t/**\n\t *\n\t * @param {SubmitEvent} e\n\t */\n\tonUpdate = e => {\n\t\te.preventDefault();\n\t\tconst userData = Object.fromEntries(new FormData(e.target));\n\t\tupdateUserRequest(userData)\n\t\t\t.then(({ userList }) => {\n\t\t\t\tthis.usersData.userList = userList;\n\t\t\t\tcheckUserLogged(userData, userList);\n\t\t\t\tthis.usersEditModal.toggleAttribute('show');\n\t\t\t\tthis.render();\n\t\t\t})\n\t\t\t.catch(e => console.error(e));\n\t};\n}\n\n!customElements.get('ldod-manage-users') &&\n\tcustomElements.define('ldod-manage-users', LdodManageUsers);\n\n/**\n *\n * @param {User} userUpdated\n * @param {Array<User>} usersList\n */\nfunction checkUserLogged(userUpdated, usersList) {\n\tconst user = usersList.find(u => u.username === userUpdated.newUsername);\n\tif (getUser().username === userUpdated.newUsername) setState(state => ({ ...state, user }));\n}\n","/** @format */\n\nexport default root => {\n\treturn /*html*/ `\n\t\t<ldod-bs-modal dialog-class=\"modal-xl\" id=\"user-update-user-modal\">\n\t\t\t<h4 data-users-key=\"editUserHeader\" slot=\"header-slot\">\n\t\t\t\t${root.getConstant('editUserHeader')}\n\t\t\t</h4>\n\t\t\t<div slot=\"body-slot\"></div>\n\t\t</ldod-bs-modal>`;\n};\n","/** @format */\n\nimport UsersTable from './components/users-list-table.jsx';\nimport UsersTitle from './components/users-title';\nimport AdminModeButton from './components/admin-mode-button';\nimport DeleteSessionsButton from './components/delete-sessions-button';\nimport SessionsListTable from './components/sessions-list-table';\n\nexport default root => {\n\treturn (\n\t\t<div class=\"container\">\n\t\t\t<>\n\t\t\t\t<button\n\t\t\t\t\tstyle={{ margin: '1em 0' }}\n\t\t\t\t\tclass=\"btn btn-secondary\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tonClick={root.onSwitchTopic}>\n\t\t\t\t\tSwitch to sessions\n\t\t\t\t</button>\n\t\t\t\t<div id=\"users\" topic=\"users\" show>\n\t\t\t\t\t<UsersTitle root={root} title={root.getConstant('users')} />\n\t\t\t\t\t<div class=\"upload-export-users\">\n\t\t\t\t\t\t<ldod-upload\n\t\t\t\t\t\t\tdata-users-key=\"uploadUsers\"\n\t\t\t\t\t\t\ttitle={root.getConstant('uploadUsers')}\n\t\t\t\t\t\t\tdata-url={`/admin/user/upload-users`}></ldod-upload>\n\t\t\t\t\t\t<ldod-export\n\t\t\t\t\t\t\tfile-prefix=\"users\"\n\t\t\t\t\t\t\tdata-users-key=\"exportUsers\"\n\t\t\t\t\t\t\ttitle={root.getConstant('exportUsers')}\n\t\t\t\t\t\t\tdata-url={`/admin/user/export-users`}></ldod-export>\n\t\t\t\t\t</div>\n\t\t\t\t\t<UsersTable root={root} />\n\t\t\t\t</div>\n\t\t\t\t<div id=\"sessions\" topic=\"sessions\">\n\t\t\t\t\t<h2 class=\"text-center\" data-users-key=\"sessions\">\n\t\t\t\t\t\t{root.getConstant('sessions')}\n\t\t\t\t\t</h2>\n\t\t\t\t\t<div id=\"sessions-actions\">\n\t\t\t\t\t\t<AdminModeButton\n\t\t\t\t\t\t\troot={root}\n\t\t\t\t\t\t\tbuttonLabel={root.getConstant(`${root.getMode()}Mode`)}\n\t\t\t\t\t\t\ttooltipContent={root.getConstant('changeLdodMode')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<DeleteSessionsButton\n\t\t\t\t\t\t\troot={root}\n\t\t\t\t\t\t\tcontent={root.getConstant('deleteUserSessions')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<SessionsListTable root={root} />\n\t\t\t\t</div>\n\t\t\t</>\n\t\t</div>\n\t);\n};\n","/** @format */\n\nimport './ldod-manage-users';\nconst mount = async (lang, ref) => {\n\tconst manageUsers = document.createElement('ldod-manage-users');\n\tmanageUsers.setAttribute('language', lang);\n\tdocument.querySelector(ref).appendChild(manageUsers);\n};\nconst unMount = () => document.querySelector('manage-users')?.remove();\n\nconst path = '/manage-users';\n\nexport { mount, unMount, path };\n"],"names":["constants","sessionListHeaders","usersListHeaders","pt","TRUE","FALSE","users","user","admin","sessions","username","firstName","lastName","lastRequest","sessionId","enabled","roles","lastLogin","actions","active","tooltipActions","editUserHeader","update","email","newPassword","toggleActiveMode","changeLdodMode","deleteUserSessions","userMode","adminMode","uploadUsers","exportUsers","en","es","UptadeUserForm","root","createElement","role","onSubmit","onUpdate","class","id","type","placeholder","name","value","getConstant","for","checked","includes","replaceActive","newActive","getUsersListActive","shadowRoot","querySelector","externalId","replaceWith","onClick","async","changeActiveRequest","then","res","usersData","userList","find","ok","onChangeActive","is","icon","fill","size","getUsersListActions","e","target","dataset","modal","usersEditModal","bodySlot","innerHTML","appendChild","toggleAttribute","onEditUser","onDeleteUser","UsersTable","language","classes","headers","data","map","String","toUpperCase","search","Object","values","reduce","prev","curr","concat","placement","content","UsersTitle","title","usersLength","AdminModeButton","buttonLabel","tooltipContent","updateClass","getMode","switchModeRequest","setMode","button","textContent","setAttribute","label","SessionsListTable","sessionList","row","DeleteSessionsButton","deleteSessionsRequest","replaceChildren","sheet","CSSStyleSheet","loadToolip","import","replaceSync","rootCss","formsCss","buttonsCss","exportButton","uploadButton","LdodManageUsers","HTMLElement","constructor","super","this","attachShadow","mode","adoptedStyleSheets","observedAttributes","getAttribute","length","getData","Promise","resolve","getUsersList","catch","console","error","key","connectedCallback","render","firstElementChild","createFragment","style","margin","onSwitchTopic","topic","show","addEventListeners","attributeChangedCallback","oldV","newV","handlers","handleChangeLanguage","querySelectorAll","forEach","ele","usersKey","usersTooltipKey","addEventListener","handleUsersUpload","once","updateUsersListTitleOnSearch","stopPropagation","payload","detail","errorPublisher","message","messagePublisher","ldoDAdmin","confirm","removeUserRequest","preventDefault","userData","fromEntries","FormData","updateUserRequest","userUpdated","usersList","u","newUsername","getUser","setState","state","checkUserLogged","customElements","get","define","mount","lang","ref","manageUsers","document","unMount","remove","path"],"mappings":"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"}