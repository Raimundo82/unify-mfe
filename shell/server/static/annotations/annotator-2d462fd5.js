import{fetcher as e,createElement as t,ldodEventPublisher as n,createFragment as o}from"@core";const r="/annotations/inter",i=(await import("@vendor/@popperjs/core_2.11.6/dist/umd/popper.min.js"))?.createPopper??window.Popper.createPopper,l=Object.freeze(Object.defineProperty({__proto__:null,createPopper:i},Symbol.toStringTag,{value:"Module"}));let a=[];const s=e=>a=e;var c,d;
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */
function u(e){var t;const n=function(e){return"startContainer"in e}
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */(e)?e.startContainer:e;return null!==(t=n.ownerDocument)&&void 0!==t?t:n}function p(e){if(function(e){return"startContainer"in e}(e))return e;{const t=e,n=u(t).createRange();return n.selectNodeContents(t),n}}(d=c||(c={}))[d.All=0]="All",d[d.Two=1]="Two",d[d.One=2]="One";var f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function h(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var q={},b={get exports(){return q},set exports(e){q=e}},g={},m={get exports(){return g},set exports(e){g=e}},v=function(e){try{return!!e()}catch{return!0}},w=!v((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),k=w,y=Function.prototype,x=y.call,C=k&&y.bind.bind(x,x),E=k?C:function(e){return function(){return x.apply(e,arguments)}},S=E({}.isPrototypeOf),T=function(e){return e&&e.Math==Math&&e},N=T("object"==typeof globalThis&&globalThis)||T("object"==typeof window&&window)||T("object"==typeof self&&self)||T("object"==typeof f&&f)||function(){return this}()||Function("return this")(),O=w,P=Function.prototype,A=P.apply,I=P.call,R="object"==typeof Reflect&&Reflect.apply||(O?I.bind(A):function(){return I.apply(A,arguments)}),_=E,L=_({}.toString),j=_("".slice),z=function(e){return j(L(e),8,-1)},M=z,F=E,H=function(e){if("Function"===M(e))return F(e)},D="object"==typeof document&&document.all,B={all:D,IS_HTMLDDA:typeof D>"u"&&void 0!==D},V=B.all,$=B.IS_HTMLDDA?function(e){return"function"==typeof e||e===V}:function(e){return"function"==typeof e},U={},G=!v((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),X=w,W=Function.prototype.call,J=X?W.bind(W):function(){return W.apply(W,arguments)},K={},Y={}.propertyIsEnumerable,Q=Object.getOwnPropertyDescriptor,Z=Q&&!Y.call({1:2},1);K.f=Z?function(e){var t=Q(this,e);return!!t&&t.enumerable}:Y;var ee,te,ne=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},oe=v,re=z,ie=Object,le=E("".split),ae=oe((function(){return!ie("z").propertyIsEnumerable(0)}))?function(e){return"String"==re(e)?le(e,""):ie(e)}:ie,se=function(e){return null==e},ce=se,de=TypeError,ue=function(e){if(ce(e))throw de("Can't call method on "+e);return e},pe=ae,fe=ue,he=function(e){return pe(fe(e))},qe=$,be=B.all,ge=B.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:qe(e)||e===be}:function(e){return"object"==typeof e?null!==e:qe(e)},me={},ve=me,we=N,ke=$,ye=function(e){return ke(e)?e:void 0},xe=function(e,t){return arguments.length<2?ye(ve[e])||ye(we[e]):ve[e]&&ve[e][t]||we[e]&&we[e][t]},Ce=N,Ee=xe("navigator","userAgent")||"",Se=Ce.process,Te=Ce.Deno,Ne=Se&&Se.versions||Te&&Te.version,Oe=Ne&&Ne.v8;Oe&&(te=(ee=Oe.split("."))[0]>0&&ee[0]<4?1:+(ee[0]+ee[1])),!te&&Ee&&((!(ee=Ee.match(/Edge\/(\d+)/))||ee[1]>=74)&&((ee=Ee.match(/Chrome\/(\d+)/))&&(te=+ee[1])));var Pe=te,Ae=Pe,Ie=v,Re=!!Object.getOwnPropertySymbols&&!Ie((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ae&&Ae<41})),_e=Re&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Le=xe,je=$,ze=S,Me=Object,Fe=_e?function(e){return"symbol"==typeof e}:function(e){var t=Le("Symbol");return je(t)&&ze(t.prototype,Me(e))},He=String,De=function(e){try{return He(e)}catch{return"Object"}},Be=$,Ve=De,$e=TypeError,Ue=function(e){if(Be(e))return e;throw $e(Ve(e)+" is not a function")},Ge=Ue,Xe=se,We=J,Je=$,Ke=ge,Ye=TypeError,Qe={},Ze={get exports(){return Qe},set exports(e){Qe=e}},et=N,tt=Object.defineProperty,nt=function(e,t){try{tt(et,e,{value:t,configurable:!0,writable:!0})}catch{et[e]=t}return t},ot="__core-js_shared__",rt=N[ot]||nt(ot,{}),it=rt;(Ze.exports=function(e,t){return it[e]||(it[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:"pure",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"});var lt=ue,at=Object,st=function(e){return at(lt(e))},ct=st,dt=E({}.hasOwnProperty),ut=Object.hasOwn||function(e,t){return dt(ct(e),t)},pt=E,ft=0,ht=Math.random(),qt=pt(1..toString),bt=function(e){return"Symbol("+(void 0===e?"":e)+")_"+qt(++ft+ht,36)},gt=N,mt=ut,vt=bt,wt=Re,kt=_e,yt=Qe("wks"),xt=gt.Symbol,Ct=xt&&xt.for,Et=kt?xt:xt&&xt.withoutSetter||vt,St=function(e){if(!mt(yt,e)||!wt&&"string"!=typeof yt[e]){var t="Symbol."+e;wt&&mt(xt,e)?yt[e]=xt[e]:yt[e]=kt&&Ct?Ct(t):Et(t)}return yt[e]},Tt=J,Nt=ge,Ot=Fe,Pt=function(e,t){var n=e[t];return Xe(n)?void 0:Ge(n)},At=function(e,t){var n,o;if("string"===t&&Je(n=e.toString)&&!Ke(o=We(n,e))||Je(n=e.valueOf)&&!Ke(o=We(n,e))||"string"!==t&&Je(n=e.toString)&&!Ke(o=We(n,e)))return o;throw Ye("Can't convert object to primitive value")},It=TypeError,Rt=St("toPrimitive"),_t=function(e,t){if(!Nt(e)||Ot(e))return e;var n,o=Pt(e,Rt);if(o){if(void 0===t&&(t="default"),n=Tt(o,e,t),!Nt(n)||Ot(n))return n;throw It("Can't convert object to primitive value")}return void 0===t&&(t="number"),At(e,t)},Lt=Fe,jt=function(e){var t=_t(e,"string");return Lt(t)?t:t+""},zt=ge,Mt=N.document,Ft=zt(Mt)&&zt(Mt.createElement),Ht=function(e){return Ft?Mt.createElement(e):{}},Dt=Ht,Bt=!G&&!v((function(){return 7!=Object.defineProperty(Dt("div"),"a",{get:function(){return 7}}).a})),Vt=G,$t=J,Ut=K,Gt=ne,Xt=he,Wt=jt,Jt=ut,Kt=Bt,Yt=Object.getOwnPropertyDescriptor;U.f=Vt?Yt:function(e,t){if(e=Xt(e),t=Wt(t),Kt)try{return Yt(e,t)}catch{}if(Jt(e,t))return Gt(!$t(Ut.f,e,t),e[t])};var Qt=v,Zt=$,en=/#|\.prototype\./,tn=function(e,t){var n=on[nn(e)];return n==ln||n!=rn&&(Zt(t)?Qt(t):!!t)},nn=tn.normalize=function(e){return String(e).replace(en,".").toLowerCase()},on=tn.data={},rn=tn.NATIVE="N",ln=tn.POLYFILL="P",an=tn,sn=Ue,cn=w,dn=H(H.bind),un=function(e,t){return sn(e),void 0===t?e:cn?dn(e,t):function(){return e.apply(t,arguments)}},pn={},fn=G&&v((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),hn=ge,qn=String,bn=TypeError,gn=function(e){if(hn(e))return e;throw bn(qn(e)+" is not an object")},mn=G,vn=Bt,wn=fn,kn=gn,yn=jt,xn=TypeError,Cn=Object.defineProperty,En=Object.getOwnPropertyDescriptor,Sn="enumerable",Tn="configurable",Nn="writable";pn.f=mn?wn?function(e,t,n){if(kn(e),t=yn(t),kn(n),"function"==typeof e&&"prototype"===t&&"value"in n&&Nn in n&&!n[Nn]){var o=En(e,t);o&&o[Nn]&&(e[t]=n.value,n={configurable:Tn in n?n[Tn]:o[Tn],enumerable:Sn in n?n[Sn]:o[Sn],writable:!1})}return Cn(e,t,n)}:Cn:function(e,t,n){if(kn(e),t=yn(t),kn(n),vn)try{return Cn(e,t,n)}catch{}if("get"in n||"set"in n)throw xn("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var On=pn,Pn=ne,An=G?function(e,t,n){return On.f(e,t,Pn(1,n))}:function(e,t,n){return e[t]=n,e},In=N,Rn=R,_n=H,Ln=$,jn=U.f,zn=an,Mn=me,Fn=un,Hn=An,Dn=ut,Bn=function(e){var t=function(n,o,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,o)}return new e(n,o,r)}return Rn(e,this,arguments)};return t.prototype=e.prototype,t},Vn=function(e,t){var n,o,r,i,l,a,s,c,d=e.target,u=e.global,p=e.stat,f=e.proto,h=u?In:p?In[d]:(In[d]||{}).prototype,q=u?Mn:Mn[d]||Hn(Mn,d,{})[d],b=q.prototype;for(r in t)n=!zn(u?r:d+(p?".":"#")+r,e.forced)&&h&&Dn(h,r),l=q[r],n&&(e.dontCallGetSet?a=(c=jn(h,r))&&c.value:a=h[r]),i=n&&a?a:t[r],(!n||typeof l!=typeof i)&&(s=e.bind&&n?Fn(i,In):e.wrap&&n?Bn(i):f&&Ln(i)?_n(i):i,(e.sham||i&&i.sham||l&&l.sham)&&Hn(s,"sham",!0),Hn(q,r,s),f&&(Dn(Mn,o=d+"Prototype")||Hn(Mn,o,{}),Hn(Mn[o],r,i),e.real&&b&&!b[r]&&Hn(b,r,i)))},$n=Math.ceil,Un=Math.floor,Gn=Math.trunc||function(e){var t=+e;return(t>0?Un:$n)(t)},Xn=function(e){var t=+e;return t!=t||0===t?0:Gn(t)},Wn=Xn,Jn=Math.min,Kn=function(e){return e>0?Jn(Wn(e),9007199254740991):0},Yn=function(e){return Kn(e.length)},Qn=Ue,Zn=st,eo=ae,to=Yn,no=TypeError,oo=function(e){return function(t,n,o,r){Qn(n);var i=Zn(t),l=eo(i),a=to(i),s=e?a-1:0,c=e?-1:1;if(o<2)for(;;){if(s in l){r=l[s],s+=c;break}if(s+=c,e?s<0:a<=s)throw no("Reduce of empty array with no initial value")}for(;e?s>=0:a>s;s+=c)s in l&&(r=n(r,l[s],s,i));return r}},ro={left:oo(!1),right:oo(!0)},io=v,lo="process"==z(N.process),ao=ro.left,so=function(e,t){var n=[][e];return!!n&&io((function(){n.call(null,t||function(){return 1},1)}))},co=Pe,uo=lo;Vn({target:"Array",proto:!0,forced:!so("reduce")||!uo&&co>79&&co<83},{reduce:function(e){var t=arguments.length;return ao(this,e,t,t>1?arguments[1]:void 0)}});var po=me,fo=function(e){return po[e+"Prototype"]},ho=fo("Array").reduce,qo=S,bo=ho,go=Array.prototype,mo=function(e){var t=e.reduce;return e===go||qo(go,e)&&t===go.reduce?bo:t},vo=mo;
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */
function wo(e,t){return e.equals?e.equals(t):t.equals?t.equals(e):e===t}m.exports=vo,b.exports=g;var ko={},yo={get exports(){return ko},set exports(e){ko=e}},xo={},Co={get exports(){return xo},set exports(e){xo=e}},Eo={},So={get exports(){return Eo},set exports(e){Eo=e}},To=Vn,No=G,Oo=pn.f;To({target:"Object",stat:!0,forced:Object.defineProperty!==Oo,sham:!No},{defineProperty:Oo});var Po=me.Object,Ao=So.exports=function(e,t,n){return Po.defineProperty(e,t,n)};Po.defineProperty.sham&&(Ao.sham=!0);var Io=Eo;Co.exports=Io,yo.exports=xo;const Ro=h(ko);var _o={},Lo={get exports(){return _o},set exports(e){_o=e}},jo={},zo={get exports(){return jo},set exports(e){jo=e}},Mo=z,Fo=Array.isArray||function(e){return"Array"==Mo(e)},Ho=TypeError,Do=jt,Bo=pn,Vo=ne,$o=function(e,t,n){var o=Do(t);o in e?Bo.f(e,o,Vo(0,n)):e[o]=n},Uo={};Uo[St("toStringTag")]="z";var Go="[object z]"===String(Uo),Xo=Go,Wo=$,Jo=z,Ko=St("toStringTag"),Yo=Object,Qo="Arguments"==Jo(function(){return arguments}()),Zo=Xo?Jo:function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch{}}(t=Yo(e),Ko))?n:Qo?Jo(t):"Object"==(o=Jo(t))&&Wo(t.callee)?"Arguments":o},er=$,tr=rt,nr=E(Function.toString);er(tr.inspectSource)||(tr.inspectSource=function(e){return nr(e)});var or=tr.inspectSource,rr=E,ir=v,lr=$,ar=Zo,sr=or,cr=function(){},dr=[],ur=xe("Reflect","construct"),pr=/^\s*(?:class|function)\b/,fr=rr(pr.exec),hr=!pr.exec(cr),qr=function(e){if(!lr(e))return!1;try{return ur(cr,dr,e),!0}catch{return!1}},br=function(e){if(!lr(e))return!1;switch(ar(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return hr||!!fr(pr,sr(e))}catch{return!0}};br.sham=!0;var gr=!ur||ir((function(){var e;return qr(qr.call)||!qr(Object)||!qr((function(){e=!0}))||e}))?br:qr,mr=Fo,vr=gr,wr=ge,kr=St("species"),yr=Array,xr=function(e){var t;return mr(e)&&(t=e.constructor,vr(t)&&(t===yr||mr(t.prototype))?t=void 0:wr(t)&&(null===(t=t[kr])&&(t=void 0))),void 0===t?yr:t},Cr=function(e,t){return new(xr(e))(0===t?0:t)},Er=v,Sr=Pe,Tr=St("species"),Nr=Vn,Or=v,Pr=Fo,Ar=ge,Ir=st,Rr=Yn,_r=function(e){if(e>9007199254740991)throw Ho("Maximum allowed index exceeded");return e},Lr=$o,jr=Cr,zr=function(e){return Sr>=51||!Er((function(){var t=[];return(t.constructor={})[Tr]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},Mr=Pe,Fr=St("isConcatSpreadable"),Hr=Mr>=51||!Or((function(){var e=[];return e[Fr]=!1,e.concat()[0]!==e})),Dr=zr("concat"),Br=function(e){if(!Ar(e))return!1;var t=e[Fr];return void 0!==t?!!t:Pr(e)};Nr({target:"Array",proto:!0,arity:1,forced:!Hr||!Dr},{concat:function(e){var t,n,o,r,i,l=Ir(this),a=jr(l,0),s=0;for(t=-1,o=arguments.length;t<o;t++)if(Br(i=-1===t?l:arguments[t]))for(r=Rr(i),_r(s+r),n=0;n<r;n++,s++)n in i&&Lr(a,s,i[n]);else _r(s+1),Lr(a,s++,i);return a.length=s,a}});var Vr=Zo,$r=String,Ur=function(e){if("Symbol"===Vr(e))throw TypeError("Cannot convert a Symbol value to a string");return $r(e)},Gr={},Xr=Xn,Wr=Math.max,Jr=Math.min,Kr=function(e,t){var n=Xr(e);return n<0?Wr(n+t,0):Jr(n,t)},Yr=he,Qr=Kr,Zr=Yn,ei=function(e){return function(t,n,o){var r,i=Yr(t),l=Zr(i),a=Qr(o,l);if(e&&n!=n){for(;l>a;)if((r=i[a++])!=r)return!0}else for(;l>a;a++)if((e||a in i)&&i[a]===n)return e||a||0;return!e&&-1}},ti={includes:ei(!0),indexOf:ei(!1)},ni={},oi=ut,ri=he,ii=ti.indexOf,li=ni,ai=E([].push),si=function(e,t){var n,o=ri(e),r=0,i=[];for(n in o)!oi(li,n)&&oi(o,n)&&ai(i,n);for(;t.length>r;)oi(o,n=t[r++])&&(~ii(i,n)||ai(i,n));return i},ci=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],di=si,ui=ci,pi=Object.keys||function(e){return di(e,ui)},fi=G,hi=fn,qi=pn,bi=gn,gi=he,mi=pi;Gr.f=fi&&!hi?Object.defineProperties:function(e,t){bi(e);for(var n,o=gi(t),r=mi(t),i=r.length,l=0;i>l;)qi.f(e,n=r[l++],o[n]);return e};var vi,wi=xe("document","documentElement"),ki=bt,yi=Qe("keys"),xi=function(e){return yi[e]||(yi[e]=ki(e))},Ci=gn,Ei=Gr,Si=ci,Ti=ni,Ni=wi,Oi=Ht,Pi="prototype",Ai="script",Ii=xi("IE_PROTO"),Ri=function(){},_i=function(e){return"<"+Ai+">"+e+"</"+Ai+">"},Li=function(e){e.write(_i("")),e.close();var t=e.parentWindow.Object;return e=null,t},ji=function(){try{vi=new ActiveXObject("htmlfile")}catch{}ji=typeof document<"u"?document.domain&&vi?Li(vi):function(){var e,t=Oi("iframe"),n="java"+Ai+":";return t.style.display="none",Ni.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(_i("document.F=Object")),e.close(),e.F}():Li(vi);for(var e=Si.length;e--;)delete ji[Pi][Si[e]];return ji()};Ti[Ii]=!0;var zi=Object.create||function(e,t){var n;return null!==e?(Ri[Pi]=Ci(e),n=new Ri,Ri[Pi]=null,n[Ii]=e):n=ji(),void 0===t?n:Ei.f(n,t)},Mi={},Fi=si,Hi=ci.concat("length","prototype");Mi.f=Object.getOwnPropertyNames||function(e){return Fi(e,Hi)};var Di={},Bi=Kr,Vi=Yn,$i=$o,Ui=Array,Gi=Math.max,Xi=z,Wi=he,Ji=Mi.f,Ki=function(e,t,n){for(var o=Vi(e),r=Bi(t,o),i=Bi(void 0===n?o:n,o),l=Ui(Gi(i-r,0)),a=0;r<i;r++,a++)$i(l,a,e[r]);return l.length=a,l},Yi="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Di.f=function(e){return Yi&&"Window"==Xi(e)?function(e){try{return Ji(e)}catch{return Ki(Yi)}}(e):Ji(Wi(e))};var Qi={};Qi.f=Object.getOwnPropertySymbols;var Zi=An,el=function(e,t,n,o){return o&&o.enumerable?e[t]=n:Zi(e,t,n),e},tl={},nl=St;tl.f=nl;var ol,rl,il,ll=me,al=ut,sl=tl,cl=pn.f,dl=function(e){var t=ll.Symbol||(ll.Symbol={});al(t,e)||cl(t,e,{value:sl.f(e)})},ul=J,pl=xe,fl=St,hl=el,ql=function(){var e=pl("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,o=fl("toPrimitive");t&&!t[o]&&hl(t,o,(function(e){return ul(n,this)}),{arity:1})},bl=Zo,gl=Go?{}.toString:function(){return"[object "+bl(this)+"]"},ml=Go,vl=pn.f,wl=An,kl=ut,yl=gl,xl=St("toStringTag"),Cl=function(e,t,n,o){if(e){var r=n?e:e.prototype;kl(r,xl)||vl(r,xl,{configurable:!0,value:t}),o&&!ml&&wl(r,"toString",yl)}},El=$,Sl=N.WeakMap,Tl=El(Sl)&&/native code/.test(String(Sl)),Nl=N,Ol=ge,Pl=An,Al=ut,Il=rt,Rl=xi,_l=ni,Ll="Object already initialized",jl=Nl.TypeError,zl=Nl.WeakMap;if(Tl||Il.state){var Ml=Il.state||(Il.state=new zl);Ml.get=Ml.get,Ml.has=Ml.has,Ml.set=Ml.set,ol=function(e,t){if(Ml.has(e))throw jl(Ll);return t.facade=e,Ml.set(e,t),t},rl=function(e){return Ml.get(e)||{}},il=function(e){return Ml.has(e)}}else{var Fl=Rl("state");_l[Fl]=!0,ol=function(e,t){if(Al(e,Fl))throw jl(Ll);return t.facade=e,Pl(e,Fl,t),t},rl=function(e){return Al(e,Fl)?e[Fl]:{}},il=function(e){return Al(e,Fl)}}var Hl={set:ol,get:rl,has:il,enforce:function(e){return il(e)?rl(e):ol(e,{})},getterFor:function(e){return function(t){var n;if(!Ol(t)||(n=rl(t)).type!==e)throw jl("Incompatible receiver, "+e+" required");return n}}},Dl=un,Bl=ae,Vl=st,$l=Yn,Ul=Cr,Gl=E([].push),Xl=function(e){var t=1==e,n=2==e,o=3==e,r=4==e,i=6==e,l=7==e,a=5==e||i;return function(s,c,d,u){for(var p,f,h=Vl(s),q=Bl(h),b=Dl(c,d),g=$l(q),m=0,v=u||Ul,w=t?v(s,g):n||l?v(s,0):void 0;g>m;m++)if((a||m in q)&&(f=b(p=q[m],m,h),e))if(t)w[m]=f;else if(f)switch(e){case 3:return!0;case 5:return p;case 6:return m;case 2:Gl(w,p)}else switch(e){case 4:return!1;case 7:Gl(w,p)}return i?-1:o||r?r:w}},Wl={forEach:Xl(0),map:Xl(1),filter:Xl(2),some:Xl(3),every:Xl(4),find:Xl(5),findIndex:Xl(6),filterReject:Xl(7)},Jl=Vn,Kl=N,Yl=J,Ql=E,Zl=G,ea=Re,ta=v,na=ut,oa=S,ra=gn,ia=he,la=jt,aa=Ur,sa=ne,ca=zi,da=pi,ua=Mi,pa=Di,fa=Qi,ha=U,qa=pn,ba=Gr,ga=K,ma=el,va=Qe,wa=ni,ka=bt,ya=St,xa=tl,Ca=dl,Ea=ql,Sa=Cl,Ta=Hl,Na=Wl.forEach,Oa=xi("hidden"),Pa="Symbol",Aa="prototype",Ia=Ta.set,Ra=Ta.getterFor(Pa),_a=Object[Aa],La=Kl.Symbol,ja=La&&La[Aa],za=Kl.TypeError,Ma=Kl.QObject,Fa=ha.f,Ha=qa.f,Da=pa.f,Ba=ga.f,Va=Ql([].push),$a=va("symbols"),Ua=va("op-symbols"),Ga=va("wks"),Xa=!Ma||!Ma[Aa]||!Ma[Aa].findChild,Wa=Zl&&ta((function(){return 7!=ca(Ha({},"a",{get:function(){return Ha(this,"a",{value:7}).a}})).a}))?function(e,t,n){var o=Fa(_a,t);o&&delete _a[t],Ha(e,t,n),o&&e!==_a&&Ha(_a,t,o)}:Ha,Ja=function(e,t){var n=$a[e]=ca(ja);return Ia(n,{type:Pa,tag:e,description:t}),Zl||(n.description=t),n},Ka=function(e,t,n){e===_a&&Ka(Ua,t,n),ra(e);var o=la(t);return ra(n),na($a,o)?(n.enumerable?(na(e,Oa)&&e[Oa][o]&&(e[Oa][o]=!1),n=ca(n,{enumerable:sa(0,!1)})):(na(e,Oa)||Ha(e,Oa,sa(1,{})),e[Oa][o]=!0),Wa(e,o,n)):Ha(e,o,n)},Ya=function(e,t){ra(e);var n=ia(t),o=da(n).concat(ts(n));return Na(o,(function(t){(!Zl||Yl(Qa,n,t))&&Ka(e,t,n[t])})),e},Qa=function(e){var t=la(e),n=Yl(Ba,this,t);return!(this===_a&&na($a,t)&&!na(Ua,t))&&(!(n||!na(this,t)||!na($a,t)||na(this,Oa)&&this[Oa][t])||n)},Za=function(e,t){var n=ia(e),o=la(t);if(n!==_a||!na($a,o)||na(Ua,o)){var r=Fa(n,o);return r&&na($a,o)&&!(na(n,Oa)&&n[Oa][o])&&(r.enumerable=!0),r}},es=function(e){var t=Da(ia(e)),n=[];return Na(t,(function(e){!na($a,e)&&!na(wa,e)&&Va(n,e)})),n},ts=function(e){var t=e===_a,n=Da(t?Ua:ia(e)),o=[];return Na(n,(function(e){na($a,e)&&(!t||na(_a,e))&&Va(o,$a[e])})),o};ea||(ma(ja=(La=function(){if(oa(ja,this))throw za("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?aa(arguments[0]):void 0,t=ka(e),n=function(e){this===_a&&Yl(n,Ua,e),na(this,Oa)&&na(this[Oa],t)&&(this[Oa][t]=!1),Wa(this,t,sa(1,e))};return Zl&&Xa&&Wa(_a,t,{configurable:!0,set:n}),Ja(t,e)})[Aa],"toString",(function(){return Ra(this).tag})),ma(La,"withoutSetter",(function(e){return Ja(ka(e),e)})),ga.f=Qa,qa.f=Ka,ba.f=Ya,ha.f=Za,ua.f=pa.f=es,fa.f=ts,xa.f=function(e){return Ja(ya(e),e)},Zl&&Ha(ja,"description",{configurable:!0,get:function(){return Ra(this).description}})),Jl({global:!0,constructor:!0,wrap:!0,forced:!ea,sham:!ea},{Symbol:La}),Na(da(Ga),(function(e){Ca(e)})),Jl({target:Pa,stat:!0,forced:!ea},{useSetter:function(){Xa=!0},useSimple:function(){Xa=!1}}),Jl({target:"Object",stat:!0,forced:!ea,sham:!Zl},{create:function(e,t){return void 0===t?ca(e):Ya(ca(e),t)},defineProperty:Ka,defineProperties:Ya,getOwnPropertyDescriptor:Za}),Jl({target:"Object",stat:!0,forced:!ea},{getOwnPropertyNames:es}),Ea(),Sa(La,Pa),wa[Oa]=!0;var ns=Re&&!!Symbol.for&&!!Symbol.keyFor,os=Vn,rs=xe,is=ut,ls=Ur,as=Qe,ss=ns,cs=as("string-to-symbol-registry"),ds=as("symbol-to-string-registry");os({target:"Symbol",stat:!0,forced:!ss},{for:function(e){var t=ls(e);if(is(cs,t))return cs[t];var n=rs("Symbol")(t);return cs[t]=n,ds[n]=t,n}});var us=Vn,ps=ut,fs=Fe,hs=De,qs=ns,bs=Qe("symbol-to-string-registry");us({target:"Symbol",stat:!0,forced:!qs},{keyFor:function(e){if(!fs(e))throw TypeError(hs(e)+" is not a symbol");if(ps(bs,e))return bs[e]}});var gs=E([].slice),ms=Vn,vs=xe,ws=R,ks=J,ys=E,xs=v,Cs=Fo,Es=$,Ss=ge,Ts=Fe,Ns=gs,Os=Re,Ps=vs("JSON","stringify"),As=ys(/./.exec),Is=ys("".charAt),Rs=ys("".charCodeAt),_s=ys("".replace),Ls=ys(1..toString),js=/[\uD800-\uDFFF]/g,zs=/^[\uD800-\uDBFF]$/,Ms=/^[\uDC00-\uDFFF]$/,Fs=!Os||xs((function(){var e=vs("Symbol")();return"[null]"!=Ps([e])||"{}"!=Ps({a:e})||"{}"!=Ps(Object(e))})),Hs=xs((function(){return'"\\udf06\\ud834"'!==Ps("\udf06\ud834")||'"\\udead"'!==Ps("\udead")})),Ds=function(e,t){var n=Ns(arguments),o=t;if((Ss(t)||void 0!==e)&&!Ts(e))return Cs(t)||(t=function(e,t){if(Es(o)&&(t=ks(o,this,e,t)),!Ts(t))return t}),n[1]=t,ws(Ps,null,n)},Bs=function(e,t,n){var o=Is(n,t-1),r=Is(n,t+1);return As(zs,e)&&!As(Ms,r)||As(Ms,e)&&!As(zs,o)?"\\u"+Ls(Rs(e,0),16):e};Ps&&ms({target:"JSON",stat:!0,arity:3,forced:Fs||Hs},{stringify:function(e,t,n){var o=Ns(arguments),r=ws(Fs?Ds:Ps,null,o);return Hs&&"string"==typeof r?_s(r,js,Bs):r}});var Vs=Qi,$s=st;Vn({target:"Object",stat:!0,forced:!Re||v((function(){Vs.f(1)}))},{getOwnPropertySymbols:function(e){var t=Vs.f;return t?t($s(e)):[]}}),dl("asyncIterator"),dl("hasInstance"),dl("isConcatSpreadable"),dl("iterator"),dl("match"),dl("matchAll"),dl("replace"),dl("search"),dl("species"),dl("split");var Us=ql;dl("toPrimitive"),Us();var Gs=xe,Xs=Cl;dl("toStringTag"),Xs(Gs("Symbol"),"Symbol"),dl("unscopables"),Cl(N.JSON,"JSON",!0);var Ws,Js,Ks,Ys=me.Symbol,Qs={},Zs=G,ec=ut,tc=Function.prototype,nc=Zs&&Object.getOwnPropertyDescriptor,oc=ec(tc,"name"),rc={EXISTS:oc,PROPER:oc&&"something"===function(){}.name,CONFIGURABLE:oc&&(!Zs||Zs&&nc(tc,"name").configurable)},ic=!v((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),lc=ut,ac=$,sc=st,cc=ic,dc=xi("IE_PROTO"),uc=Object,pc=uc.prototype,fc=cc?uc.getPrototypeOf:function(e){var t=sc(e);if(lc(t,dc))return t[dc];var n=t.constructor;return ac(n)&&t instanceof n?n.prototype:t instanceof uc?pc:null},hc=v,qc=$,bc=ge,gc=zi,mc=fc,vc=el,wc=St("iterator"),kc=!1;[].keys&&("next"in(Ks=[].keys())?(Js=mc(mc(Ks)))!==Object.prototype&&(Ws=Js):kc=!0);var yc=!bc(Ws)||hc((function(){var e={};return Ws[wc].call(e)!==e}));qc((Ws=yc?{}:gc(Ws))[wc])||vc(Ws,wc,(function(){return this}));var xc={IteratorPrototype:Ws,BUGGY_SAFARI_ITERATORS:kc},Cc=xc.IteratorPrototype,Ec=zi,Sc=ne,Tc=Cl,Nc=Qs,Oc=function(){return this},Pc=Vn,Ac=J,Ic=function(e,t,n,o){var r=t+" Iterator";return e.prototype=Ec(Cc,{next:Sc(+!o,n)}),Tc(e,r,!1,!0),Nc[r]=Oc,e},Rc=fc,_c=Cl,Lc=el,jc=Qs,zc=rc.PROPER,Mc=xc.BUGGY_SAFARI_ITERATORS,Fc=St("iterator"),Hc="keys",Dc="values",Bc="entries",Vc=function(){return this},$c=function(e,t,n,o,r,i,l){Ic(n,t,o);var a,s,c,d=function(e){if(e===r&&q)return q;if(!Mc&&e in f)return f[e];switch(e){case Hc:case Dc:case Bc:return function(){return new n(this,e)}}return function(){return new n(this)}},u=t+" Iterator",p=!1,f=e.prototype,h=f[Fc]||f["@@iterator"]||r&&f[r],q=!Mc&&h||d(r),b="Array"==t&&f.entries||h;if(b&&((a=Rc(b.call(new e)))!==Object.prototype&&a.next&&(_c(a,u,!0,!0),jc[u]=Vc)),zc&&r==Dc&&h&&h.name!==Dc&&(p=!0,q=function(){return Ac(h,this)}),r)if(s={values:d(Dc),keys:i?q:d(Hc),entries:d(Bc)},l)for(c in s)(Mc||p||!(c in f))&&Lc(f,c,s[c]);else Pc({target:t,proto:!0,forced:Mc||p},s);return l&&f[Fc]!==q&&Lc(f,Fc,q,{name:r}),jc[t]=q,s},Uc=function(e,t){return{value:e,done:t}},Gc=he,Xc=Qs,Wc=Hl;pn.f;var Jc=$c,Kc=Uc,Yc="Array Iterator",Qc=Wc.set,Zc=Wc.getterFor(Yc);Jc(Array,"Array",(function(e,t){Qc(this,{type:Yc,target:Gc(e),index:0,kind:t})}),(function(){var e=Zc(this),t=e.target,n=e.kind,o=e.index++;return!t||o>=t.length?(e.target=void 0,Kc(void 0,!0)):Kc("keys"==n?o:"values"==n?t[o]:[o,t[o]],!1)}),"values"),Xc.Arguments=Xc.Array;var ed={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},td=N,nd=Zo,od=An,rd=Qs,id=St("toStringTag");for(var ld in ed){var ad=td[ld],sd=ad&&ad.prototype;sd&&nd(sd)!==id&&od(sd,id,ld),rd[ld]=rd.Array}var cd=Ys;dl("asyncDispose"),dl("dispose"),dl("matcher"),dl("metadataKey"),dl("observable"),dl("metadata"),dl("patternMatch"),dl("replaceAll");var dd=cd;zo.exports=dd,Lo.exports=jo;const ud=h(_o);var pd={},fd={get exports(){return pd},set exports(e){pd=e}},hd={},qd={get exports(){return hd},set exports(e){hd=e}},bd=E,gd=Xn,md=Ur,vd=ue,wd=bd("".charAt),kd=bd("".charCodeAt),yd=bd("".slice),xd=function(e){return function(t,n){var o,r,i=md(vd(t)),l=gd(n),a=i.length;return l<0||l>=a?e?"":void 0:(o=kd(i,l))<55296||o>56319||l+1===a||(r=kd(i,l+1))<56320||r>57343?e?wd(i,l):o:e?yd(i,l,l+2):r-56320+(o-55296<<10)+65536}},Cd={codeAt:xd(!1),charAt:xd(!0)}.charAt,Ed=Ur,Sd=Hl,Td=$c,Nd=Uc,Od="String Iterator",Pd=Sd.set,Ad=Sd.getterFor(Od);Td(String,"String",(function(e){Pd(this,{type:Od,string:Ed(e),index:0})}),(function(){var e,t=Ad(this),n=t.string,o=t.index;return o>=n.length?Nd(void 0,!0):(e=Cd(n,o),t.index+=e.length,Nd(e,!1))}));var Id=tl.f("iterator");qd.exports=Id,fd.exports=hd;const Rd=h(pd);function _d(e){return(_d="function"==typeof ud&&"symbol"==typeof Rd?function(e){return typeof e}:function(e){return e&&"function"==typeof ud&&e.constructor===ud&&e!==ud.prototype?"symbol":typeof e})(e)}var Ld={},jd={get exports(){return Ld},set exports(e){Ld=e}},zd={},Md={get exports(){return zd},set exports(e){zd=e}},Fd=tl.f("toPrimitive");Md.exports=Fd,jd.exports=zd;const Hd=h(Ld);function Dd(e){var t=function(e,t){if("object"!==_d(e)||null===e)return e;var n=e[Hd];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==_d(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_d(t)?t:String(t)}function Bd(e,t,n){return(t=Dd(t))in e?Ro(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */}const Vd="Iterator exhausted before seek ended.";class $d{get currentChunk(){return this.chunker.currentChunk}get position(){return this.currentChunkPosition+this.offsetInChunk}constructor(e){this.chunker=e,Bd(this,"currentChunkPosition",0),Bd(this,"offsetInChunk",0),this.seekTo(0)}read(e,t=!1,n=!1){return this._readOrSeekTo(!0,this.position+e,t,n)}readTo(e,t=!1){return this._readOrSeekTo(!0,e,t)}seekBy(e){this.seekTo(this.position+e)}seekTo(e){this._readOrSeekTo(!1,e)}seekToChunk(e,t=0){this._readOrSeekToChunk(!1,e,t)}readToChunk(e,t=0){return this._readOrSeekToChunk(!0,e,t)}_readOrSeekToChunk(e,t,n=0){const o=this.position;let r="";if(this.chunker.precedesCurrentChunk(t))for(;!wo(this.currentChunk,t);){const[t,n]=this._readToPreviousChunk();if(e&&(r=t+r),null===n)throw new RangeError(Vd)}else for(;!wo(this.currentChunk,t);){const[t,n]=this._readToNextChunk();if(e&&(r+=t),null===n)throw new RangeError(Vd)}const i=this.currentChunkPosition+n;if(e)return i>=this.position?r+=this.readTo(i):i>=o?(this.seekTo(i),r=r.slice(0,i-o)):(this.seekTo(o),r=this.readTo(i)),r;this.seekTo(i)}_readOrSeekTo(e,t,n=!1,o=!1){let r="";if(this.position<=t)for(;;){if(!(this.currentChunkPosition+this.currentChunk.data.length<=t)){const o=n?this.currentChunk.data.length:t-this.currentChunkPosition;e&&(r+=this.currentChunk.data.substring(this.offsetInChunk,o)),this.offsetInChunk=o,n&&this.seekBy(0);break}{const[n,i]=this._readToNextChunk();if(e&&(r+=n),null===i){if(this.position===t||o)break;throw new RangeError(Vd)}}}else for(;this.position>t;){if(this.currentChunkPosition<=t){const o=n?0:t-this.currentChunkPosition;e&&(r=this.currentChunk.data.substring(o,this.offsetInChunk)+r),this.offsetInChunk=o;break}{const[t,n]=this._readToPreviousChunk();if(e&&(r=t+r),null===n){if(o)break;throw new RangeError(Vd)}}}if(e)return r}_readToNextChunk(){const e=this.currentChunk.data.substring(this.offsetInChunk),t=this.currentChunk.data.length,n=this.chunker.nextChunk();return null!==n?(this.currentChunkPosition+=t,this.offsetInChunk=0):this.offsetInChunk=t,[e,n]}_readToPreviousChunk(){const e=this.currentChunk.data.substring(0,this.offsetInChunk),t=this.chunker.previousChunk();return null!==t?(this.currentChunkPosition-=this.currentChunk.data.length,this.offsetInChunk=this.currentChunk.data.length):this.offsetInChunk=0,[e,t]}}
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */class Ud{constructor(e){this.raw=e,Bd(this,"position",0)}seekBy(e){this.seekTo(this.position+e)}seekTo(e){this._readOrSeekTo(!1,e)}read(e,t){return this.readTo(this.position+e,t)}readTo(e,t){return this._readOrSeekTo(!0,e,t)}get currentChunk(){return this.raw.currentChunk}get offsetInChunk(){return this.raw.offsetInChunk}seekToChunk(e,t=0){this._readOrSeekToChunk(!1,e,t)}readToChunk(e,t=0){return this._readOrSeekToChunk(!0,e,t)}_readOrSeekToChunk(e,t,n=0){const o=this.raw.position;let r=this.raw.readToChunk(t,n);const i=this.raw.position>=o;i&&Gd(r)?(this.raw.seekBy(-1),r=r.slice(0,-1)):!i&&Xd(r)&&(this.raw.seekBy(1),r=r.slice(1));const l=[...r];if(this.position=i?this.position+l.length:this.position-l.length,e)return l}_readOrSeekTo(e,t,n=!1){let o=[];if(this.position<t){let r="",i=[];for(;this.position<t;){let t=r+this.raw.read(1,!0);Gd(t)?(r=t.slice(-1),t=t.slice(0,-1)):r="",i=[...t],this.position+=i.length,e&&(o=o.concat(i))}if(r&&this.raw.seekBy(-1),!n&&this.position>t){const e=this.position-t,n=i.slice(-e).join("").length;this.position-=e,this.raw.seekBy(-n)}}else{let r="",i=[];for(;this.position>t;){let t=this.raw.read(-1,!0)+r;Xd(t)?(r=t[0],t=t.slice(1)):r="",i=[...t],this.position-=i.length,e&&(o=i.concat(o))}if(r&&this.raw.seekBy(1),!n&&this.position<t){const e=t-this.position,n=i.slice(0,e).join("").length;this.position+=e,this.raw.seekBy(n)}}if(e)return o}}function Gd(e){const t=e.charCodeAt(e.length-1);return 55296<=t&&t<=56319}function Xd(e){const t=e.charCodeAt(0);return 56320<=t&&t<=57343}
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */function Wd(e,t){var n;if(Jd(e))return[e,t];let o;if(function(e){return e.nodeType===Node.PROCESSING_INSTRUCTION_NODE||e.nodeType===Node.COMMENT_NODE||e.nodeType===Node.TEXT_NODE}
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */(e))o=e;else if(t<e.childNodes.length)o=e.childNodes[t];else{for(o=e;null===o.nextSibling;){if(null===o.parentNode)throw new Error("not implemented");o=o.parentNode}o=o.nextSibling}if(Jd(o))return[o,0];const r=null!==(n=e.ownerDocument)&&void 0!==n?n:e,i=r.createTreeWalker(r,NodeFilter.SHOW_TEXT);if(i.currentNode=o,null!==i.nextNode())return[i.currentNode,0];if(null!==i.previousNode())return[i.currentNode,i.currentNode.length];throw new Error("Document contains no text nodes.")}function Jd(e){return e.nodeType===Node.TEXT_NODE}class Kd extends TypeError{constructor(e){super(e||"Scope contains no text nodes.")}}class Yd extends TypeError{constructor(e){super(e||"Cannot convert node to chunk, as it falls outside of chunker’s scope.")}}class Qd{get currentChunk(){const e=this.iter.referenceNode;if(!Zd(e))throw new Kd;return this.nodeToChunk(e)}nodeToChunk(e){if(!this.scope.intersectsNode(e))throw new Yd;const t=e===this.scope.startContainer?this.scope.startOffset:0,n=e===this.scope.endContainer?this.scope.endOffset:e.length;return{node:e,startOffset:t,endOffset:n,data:e.data.substring(t,n),equals(e){return e.node===this.node&&e.startOffset===this.startOffset&&e.endOffset===this.endOffset}}}rangeToChunkRange(e){-1===(e=e.cloneRange()).compareBoundaryPoints(Range.START_TO_START,this.scope)&&e.setStart(this.scope.startContainer,this.scope.startOffset),1===e.compareBoundaryPoints(Range.END_TO_END,this.scope)&&e.setEnd(this.scope.endContainer,this.scope.endOffset);const t=
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */
function(e,t){const n=u(e),o=n.createTreeWalker(n,NodeFilter.SHOW_TEXT,{acceptNode:e=>!t||t.intersectsNode(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT});let[r,i]=Wd(e.startContainer,e.startOffset);for(o.currentNode=r;i===r.length&&o.nextNode();)r=o.currentNode,i=0;e.setStart(r,i);let[l,a]=Wd(e.endContainer,e.endOffset);for(o.currentNode=l;0===a&&o.previousNode();)l=o.currentNode,a=l.length;return e.setEnd(l,a),e}(e,this.scope),n=this.nodeToChunk(t.startContainer),o=t.startOffset-n.startOffset,r=this.nodeToChunk(t.endContainer);return{startChunk:n,startIndex:o,endChunk:r,endIndex:t.endOffset-r.startOffset}}chunkRangeToRange(e){const t=u(this.scope).createRange();return t.setStart(e.startChunk.node,e.startIndex+e.startChunk.startOffset),t.setEnd(e.endChunk.node,e.endIndex+e.endChunk.startOffset),t}constructor(e){if(Bd(this,"scope",void 0),Bd(this,"iter",void 0),this.scope=p(e),this.iter=u(e).createNodeIterator(this.scope.commonAncestorContainer,NodeFilter.SHOW_TEXT,{acceptNode:e=>this.scope.intersectsNode(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}),this.iter.nextNode(),!Zd(this.iter.referenceNode)&&null===this.iter.nextNode())throw new Kd}nextChunk(){return this.iter.pointerBeforeReferenceNode&&this.iter.nextNode(),this.iter.nextNode()?this.currentChunk:null}previousChunk(){return this.iter.pointerBeforeReferenceNode||this.iter.previousNode(),this.iter.previousNode()?this.currentChunk:null}precedesCurrentChunk(e){return null!==this.currentChunk&&!!(this.currentChunk.node.compareDocumentPosition(e.node)&Node.DOCUMENT_POSITION_PRECEDING)}}function Zd(e){return e.nodeType===Node.TEXT_NODE}
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */async function eu(e,t){var n;t=p(null!==(n=t)&&void 0!==n?n:u(e));const o=new Qd(t);if(null===o.currentChunk)throw new RangeError("Scope does not contain any Text nodes.");return await async function(e,t){const n=new $d(t),o=new Ud(n);o.seekToChunk(e.startChunk,e.startIndex);const r=o.position;return o.seekToChunk(e.endChunk,e.endIndex),{type:"TextPositionSelector",start:r,end:o.position}}(o.rangeToChunkRange(e),o)}
/**
 * @license
 * Licensed to the Apache Software Foundation (ASF) under one
 * or more contributor license agreements.  See the NOTICE file
 * distributed with this work for additional information
 * regarding copyright ownership.  The ASF licenses this file
 * to you under the Apache License, Version 2.0 (the
 * "License"); you may not use this file except in compliance
 * with the License.  You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
 * KIND, either express or implied.  See the License for the
 * specific language governing permissions and limitations
 * under the License.
 *
 * SPDX-FileCopyrightText: The Apache Software Foundation
 * SPDX-License-Identifier: Apache-2.0
 */function tu(e,t="mark",n={}){const o=function(e){if(ru(e.startContainer)&&e.startOffset>0){const t=e.endOffset,n=e.startContainer.splitText(e.startOffset);e.endContainer===e.startContainer&&e.setEnd(n,t-e.startOffset),e.setStart(n,0)}ru(e.endContainer)&&e.endOffset<e.endContainer.length&&e.endContainer.splitText(e.endOffset);const t=u(e).createTreeWalker(e.commonAncestorContainer,NodeFilter.SHOW_TEXT,{acceptNode:t=>e.intersectsNode(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT});t.currentNode=e.startContainer;const n=[];for(ru(t.currentNode)&&n.push(t.currentNode);t.nextNode()&&1!==e.comparePoint(t.currentNode,0);)n.push(t.currentNode);return n}(p(e)),r=[];for(const e of o){const o=nu(e,t,n);r.push(o)}return function(){for(const e of r)ou(e)}}function nu(e,t,n){const o=e.ownerDocument,r=o.createElement(t);Object.keys(n).forEach((e=>{r.setAttribute(e,n[e])}));const i=o.createRange();return i.selectNode(e),i.surroundContents(r),r}function ou(e){if(e.parentNode)if(1===e.childNodes.length)e.replaceWith(e.firstChild);else{for(;e.firstChild;)e.parentNode.insertBefore(e.firstChild,e);e.remove()}}function ru(e){return e.nodeType===Node.TEXT_NODE}var iu={},lu={get exports(){return iu},set exports(e){iu=e}},au={},su=function e(t){if(du(t))return t;if(du(t.ownerDocument))return t.ownerDocument;if(du(t.document))return t.document;if(t.parentNode)return e(t.parentNode);if(t.commonAncestorContainer)return e(t.commonAncestorContainer);if(t.startContainer)return e(t.startContainer);if(t.anchorNode)return e(t.anchorNode)},cu=9;function du(e){return e&&e.nodeType===cu}var uu={},pu=function(e,t){var n=[];t=t||fu;do{n.push(e),e=e.parentNode}while(e&&e.tagName&&t(e));return n.slice(1)};function fu(e){return!0}
/*!
 * index-of <https://github.com/jonschlinkert/index-of>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert.
 * Licensed under the MIT license.
 */var hu=function(e,t,n){n=n||0;if(null==e)return-1;var o=e.length,r=n<0?o+n:n;if(r>=e.length)return-1;for(;r<o;){if(e[r]===t)return r;r++}return-1};!function(e){e.__esModule=!0,e.default=function(e,o){if(e.whatToShow!==l)throw new Error(r);var s=0,c=e.referenceNode,d=null;if(function(e){return!isNaN(parseInt(e))&&isFinite(e)}(o))d={forward:function(){return s<o},backward:function(){return s>o}};else{if(!function(e){return e.nodeType===a}(o))throw new Error(i);var u=function(e,o){if(e===o)return!1;for(var r=null,i=[e].concat((0,t.default)(e)).reverse(),l=[o].concat((0,t.default)(o)).reverse();i[0]===l[0];)r=i.shift(),l.shift();i=i[0],l=l[0];var a=(0,n.default)(r.childNodes,i),s=(0,n.default)(r.childNodes,l);return a>s}(c,o)?function(){return!1}:function(){return c!==o};d={forward:u,backward:function(){return c!=o||!e.pointerBeforeReferenceNode}}}for(;d.forward()&&null!==(c=e.nextNode());)s+=c.nodeValue.length;for(;d.backward()&&null!==(c=e.previousNode());)s-=c.nodeValue.length;return s};var t=o(pu),n=o(hu);function o(e){return e&&e.__esModule?e:{default:e}}var r="Argument 1 of seek must use filter NodeFilter.SHOW_TEXT.",i="Argument 2 of seek must be a number or a Text Node.",l=4,a=3}(uu);var qu=uu.default,bu={},gu={get exports(){return bu},set exports(e){bu=e}},mu={},vu={};!function(e){e.__esModule=!0;var t=function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.message=t,this.name=n,this.stack=(new Error).stack};e.default=t,(t.prototype=new Error).toString=function(){return this.name+": "+this.message}}(vu),mu.__esModule=!0,mu.fromNode=function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(void 0===e)throw new Error('missing required parameter "node"');t=t||(0,wu.default)(e);for(var n="/";e!==t;){if(!e){throw new ku.default("The supplied node is not contained by the root node.","InvalidNodeTypeError")}n="/"+Eu(e)+"["+Su(e)+"]"+n,e=e.parentNode}return n.replace(/\/$/,"")},mu.toNode=function(e,t){var n=arguments.length<=2||void 0===arguments[2]?null:arguments[2];if(void 0===e)throw new Error('missing required parameter "path"');if(void 0===t)throw new Error('missing required parameter "root"');var o=(0,wu.default)(t);t!==o&&(e=e.replace(/^\//,"./"));var r=o.documentElement;return null===n&&r.lookupNamespaceURI&&(i=r.lookupNamespaceURI(null)||Cu,n=function(e){return{_default_:i}[e]||r.lookupNamespaceURI(e)}),function(e,t,n){try{return function(e,t,n){var o=(0,wu.default)(t),r=o.evaluate(e,t,n,xu,null);return r.singleNodeValue}(e.replace(/\/(?!\.)([^\/:\(]+)(?=\/|$)/g,"/_default_:$1"),t,n)}catch{return function(e,t){for(var n=e.split("/"),o=t;o;){var r=n.shift();if(void 0===r)break;if("."!==r){var i=r.split(/[\[\]]/),l=i[0],a=i[1];o=Tu(o,l=l.replace("_default_:",""),a=a?parseInt(a):1)}}return o}(e,t)}}(e,t,n);var i};var wu=yu(su),ku=yu(vu);function yu(e){return e&&e.__esModule?e:{default:e}}var xu=9,Cu="http://www.w3.org/1999/xhtml";function Eu(e){switch(e.nodeName){case"#text":return"text()";case"#comment":return"comment()";case"#cdata-section":return"cdata-section()";default:return e.nodeName.toLowerCase()}}function Su(e){for(var t=e.nodeName,n=1;e=e.previousSibling;)e.nodeName===t&&(n+=1);return n}function Tu(e,t,n){for(e=e.firstChild;e&&(Eu(e)!==t||0!=--n);e=e.nextSibling);return e}gu.exports=mu,au.__esModule=!0,au.fromRange=function(e,t){var n=e.startContainer,o=e.startOffset,r=e.endContainer,i=e.endOffset,l=Pu.fromNode(n,t),a=Pu.fromNode(r,t);return{start:l,end:a,startOffset:o,endOffset:i}},au.toRange=function(e,t,n,o,r){var i=(0,Nu.default)(r),l=Pu.toNode(e,r);if(null===l)throw f("start");var a=i.createNodeIterator(l,Iu),s=t-(0,Ou.default)(a,t);if(l=a.referenceNode,!a.pointerBeforeReferenceNode){if(s>0)throw h("start");s+=l.length}var c=Pu.toNode(n,r);if(null===c)throw f("end");var d=i.createNodeIterator(c,Iu),u=o-(0,Ou.default)(d,o);if(c=d.referenceNode,!d.pointerBeforeReferenceNode){if(u>0)throw h("end");u+=c.length}var p=i.createRange();return p.setStart(l,s),p.setEnd(c,u),p;function f(e){var t=new Error("The "+e+" node was not found.");return t.name="NotFoundError",t}function h(e){var t=new Error("There is no text at the requested "+e+" offset.");return t.name="IndexSizeError",t}};var Nu=Au(su),Ou=Au(qu),Pu=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(bu);function Au(e){return e&&e.__esModule?e:{default:e}}var Iu=4;lu.exports=au;const Ru={human:!0,canBeRead:!0,canBeUpdated:!0,text:"",contents:"",tagList:[]};class _u{constructor(e,t){this.data={...Ru,...e},this.id=e.externalId,this.xPathRange=e.ranges?.[0]||e.xPathRange,this.refNode=t}get markNodes(){return Array.from(this.refNode.querySelectorAll(`mark[id="${this.id}"]`)).filter((e=>e.innerHTML.trim()))}toRange(){this.range=iu.toRange(this.xPathRange.start,this.xPathRange.startOffset,this.xPathRange.end,this.xPathRange.endOffset,this.refNode)}highlight=()=>new Promise((e=>(this.toRange(),this.destroy=tu(this.range,"mark",{id:this.id}),this.setMarkHandlers(),e(this))));destroyAndnormalizeCommonAncestor(){this.destroy(),this.range.commonAncestorContainer.normalize()}setMarkHandlers(){this.addHoverListener()}addHoverListener(){this.markNodes.forEach((e=>{e.addEventListener("pointerenter",this.addHoverHandler)}))}addHoverHandler=({target:e})=>{$u.handleHover(e,this)}}const Lu=(e=0,t=0)=>({width:0,height:0,top:t+15,left:e});class ju extends HTMLElement{constructor(e,t,n){super(),this.hidden=!0,this.refNode=e,this.ldodAnnotation=t,this.interId=n}static get observedAttributes(){return["hidden"]}connectedCallback(){this.render(),this.initPopper(),this.addNewAnnListener()}initPopper=()=>{this.virtualElement={getBoundingClientRect:()=>Lu(),contextElement:this.refNode},this.popper=i(this.virtualElement,this)};render(){this.appendChild(t("div",{id:"new-annotation-popover"},t("style",null,".annotation-icon{height:15px;width:15px}div#new-annotation-popover span{pointer-events:none}span.annotation-icon-comment{background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512'%3E%3Cpath d='M512 240c0 114.9-114.6 208-256 208c-37.1 0-72.3-6.4-104.1-17.9c-11.9 8.7-31.3 20.6-54.3 30.6C73.6 471.1 44.7 480 16 480c-6.5 0-12.3-3.9-14.8-9.9c-2.5-6-1.1-12.8 3.4-17.4l0 0 0 0 0 0 0 0 .3-.3c.3-.3 .7-.7 1.3-1.4c1.1-1.2 2.8-3.1 4.9-5.7c4.1-5 9.6-12.4 15.2-21.6c10-16.6 19.5-38.4 21.4-62.9C17.7 326.8 0 285.1 0 240C0 125.1 114.6 32 256 32s256 93.1 256 208z'/%3E%3C/svg%3E\") no-repeat center;background-size:15px;margin-top:3px}button#new-annotation-btn{cursor:pointer;background:#fff;box-shadow:0 .5rem 1rem #00000026;text-align:center;vertical-align:middle;line-height:1.5;border:1px solid #ccc;border-radius:4px;padding:.5em;display:flex;gap:8px}button#new-annotation-btn:hover{cursor:pointer;background-color:#ccc}div#new-annotation-popover:has(button#new-annotation-btn[hidden]){display:none}\n"),t("button",{id:"new-annotation-btn",onClick:this.onNew},t("span",{class:"annotation-icon annotation-icon-comment"}),t("span",null,"New"))))}attributeChangedCallback(e,t,n){this.onChangeAttribute[e]()}onChangeAttribute={hidden:()=>{!this.hidden&&this.addHiddenListener()}};hidePopover=()=>{this.hidden=!0};updatePopper=e=>{this.virtualElement.getBoundingClientRect=()=>Lu(e.clientX,e.clientY),this.popper.update(),this.hidden=!1};addHiddenListener=()=>{document.addEventListener("click",this.hidePopover,{once:!0})};removeHiddenListener=()=>{document.removeEventListener("click",this.hidePopover,{once:!0})};addNewAnnListener=()=>{this.refNode.addEventListener("click",this.handleNewAnnotation)};removeAnnListener=()=>{this.refNode.removeEventListener("click",this.handleNewAnnotation)};handleNewAnnotation=async e=>{e.stopPropagation();const t=document.getSelection();if("Range"!==t.type||t.isCollapsed)return this.hidePopover();const n=t.toString();if(n===this.quote)return this.hidePopover();this.quote=n;const o=t.getRangeAt(0);let r=o.commonAncestorContainer;for(;!r.tagName;)r=r.parentElement;const i=await eu(o,r),l=bu.fromNode(r,this.refNode),a=l;this.selectionXPath={start:l,end:a,startOffset:i.start,endOffset:i.end},this.updatePopper(e)};disconnectedCallback(){this.removeAnnListener(),this.removeHiddenListener()}onNew=async e=>{const t=crypto.randomUUID(),n=await new _u({quote:this.quote,ranges:[this.selectionXPath],externalId:t},this.refNode).highlight().catch((e=>console.error(e)));a.push(n),this.virtualElement.getBoundingClientRect=()=>Lu(e.clientX,e.clientY),this.ldodAnnotation.showOnCreation(this.virtualElement,n)};isSelectionPathEqual=e=>!!this.selectionXPath&&Object.keys(this.selectionXPath).every((t=>this.selectionXPath[t]===e[t]))}!customElements.get("new-ann-popover")&&customElements.define("new-ann-popover",ju);const zu=e=>t("div",{style:{marginTop:"10px"}},t("select-pure",{id:"annotations-categories",name:"annotations-categories",multiple:!0,"default-label":"Categories"},e.openVocab&&t("input",{id:"select-pure-autocomplete",type:"text",onKeyUp:n=>function(e,n){const o=n.annotation.data.tagList,r=n.categories.filter((e=>!o.includes(e))),i=e.target,l=r.filter((e=>e.toLowerCase().startsWith(i.value.toLowerCase())));Array.from(n.tagMultipleSelect.querySelectorAll("option-pure")).forEach((e=>{e.hasAttribute("selected")||l.includes(e.getAttribute("value"))?e.hidden=!1:e.hidden=!0})),"Enter"===e.key&&!Mu(l,i.value)&&n.openVocab&&(n.tagMultipleSelect.shadowRoot.querySelectorAll("div.multi-selected-wrapper span.multi-selected").forEach((e=>e.remove())),n.tagMultipleSelect.querySelectorAll("option-pure[selected]").forEach((e=>e.remove())),!o.includes(i.value)&&o.push(i.value),!n.categories.includes(i.value)&&n.categories.push(i.value),n.tagMultipleSelect.append(...o.map((e=>t("option-pure",{key:window.hash(e),selected:!0,value:e},e)))))}(n,e),placeholder:"Search or enter new tag"}),e.categories.map((n=>t("option-pure",{key:window.hash(n),selected:e.annotation.data.tagList.includes(n),value:n},n))))),Mu=(e,t)=>e.some((e=>e===t));let Fu,Hu,Du;const Bu=async()=>{Du||(Du=(await import("./select-pure-18afb1ed.js")).selectPure),Fu||(Fu=(await Promise.resolve().then((()=>l))).createPopper),Hu||(Hu=(await import("./quill.min-a0bbc3b0.js").then((e=>e.q))).default)};class Vu extends HTMLElement{constructor(e,t,n){super(),this.interId=e,this.categories=t,this.openVocab=n}get isReadable(){return this.annotation?.data.canBeRead}get isEditable(){return this.annotation?.data.canBeUpdated}get canBeDeleted(){return this.annotation?.data.canBeDeleted}get contentEditor(){return this.querySelector("div#content")}get id(){return this.annotation?.id}get tagMultipleSelect(){return this.querySelector("select-pure")}static get observedAttributes(){return["updated"]}clearTimeout=()=>{window.clearTimeout(this.timeout),this.timeout=null};connectedCallback(){this.hidden=!0,this.innerHTML='\n\t\t\t<style>\n\t\t\t\t.flex-5{display:flex;gap:5px}.comment{width:400px;max-width:100%;font-size:.875rem;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem #00000026;border-radius:.25rem}.comment-header{display:flex;justify-content:space-between;align-items:center;padding:.75rem;color:#6c757d;background-color:#ffffffd9;background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.comment-body{word-wrap:break-word}.comment-footer{display:flex;justify-content:end;gap:5px;padding:.5rem!important}.comment-icon{height:15px;width:15px}.comment-trash{cursor:pointer;background:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 512 512\'%3E%3Cpath fill=\'%23dc3545\' d=\'M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM31.1 128H416V448C416 483.3 387.3 512 352 512H95.1C60.65 512 31.1 483.3 31.1 448V128zM111.1 208V432C111.1 440.8 119.2 448 127.1 448C136.8 448 143.1 440.8 143.1 432V208C143.1 199.2 136.8 192 127.1 192C119.2 192 111.1 199.2 111.1 208zM207.1 208V432C207.1 440.8 215.2 448 223.1 448C232.8 448 240 440.8 240 432V208C240 199.2 232.8 192 223.1 192C215.2 192 207.1 199.2 207.1 208zM304 208V432C304 440.8 311.2 448 320 448C328.8 448 336 440.8 336 432V208C336 199.2 328.8 192 320 192C311.2 192 304 199.2 304 208z\'/%3E%3C/svg%3E") no-repeat center;background-size:15px}.comment-user{background:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 448 512\'%3E%3Cpath d=\'M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0S96 57.3 96 128s57.3 128 128 128zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z\'/%3E%3C/svg%3E") no-repeat center;background-size:13px}[disabled].comment-btn{opacity:.5;pointer-events:none}.comment-btn{opacity:1;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;display:inline-block;padding:.25rem .5rem;border:1px solid transparent;border-radius:.2rem;line-height:1;color:#fff;background-color:#0d6efd;border-color:#0d6efd;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.comment-btn:hover{color:#fff;background-color:#0b5ed7;border-color:#0a58ca}div#content>p#annotation-text{margin-block-start:.5em;margin-block-end:.5em;padding:.5em;font-style:italic}div#content>div.ql-editor>p{cursor:text}div#content>div.ql-editor:focus{background-color:#fff;border:1px solid #ccc;border-radius:4px;outline:0}div.ql-tooltip{z-index:1060}div#content{border:none;padding:.75em}div.ql-toolbar.ql-snow{border:none}mark{cursor:auto}select-pure#annotations-categories{--border-color: #ced4da;--dropdown-gap: 5px;--dropdown-items: 5;--select-height: 44px}input#select-pure-autocomplete{border:none;border-radius:0;min-height:var(--select-height, 44px);padding:0 10px;width:auto;overflow-y:auto}p#annotation-categories.categories-chipped{display:flex;flex-wrap:wrap;gap:5px;padding-left:10px;padding-right:10px}p#annotation-categories.categories-chipped>span{border:1px solid #ccc;border-radius:8px;background-color:#ccc;padding:0 8px;font-weight:700;color:#909090}div#content ::selection{background-color:#0a58ca;color:#fff}\n\n\t\t\t\t/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"\\2022"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"\\2611"}.ql-editor ul[data-checked=false]>li:before{content:"\\2610"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:#0009;content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer: coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label:before,.ql-snow .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label:before,.ql-snow .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label:before,.ql-snow .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:#0003 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0px}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0px;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}\n\n\t\t\t</style>'}attributeChangedCallback(e){this.onChangedAtttribute[e]()}onChangedAtttribute={updated:()=>this.onHoverAnnotation()};handleHover(e,t){this.ref=e,this.annotation=t,this.toggleAttribute("updated",!0)}onHoverAnnotation=async()=>{await Bu(),this.hasAttribute("updated")&&(this.toggleAttribute("updated",!1),(!this.annotation.data.human||this.isReadable)&&(this.render(),this.annotation.data.human&&this.initEditor(),this.initPopper()))};render(){this.querySelector("div.comment")?.remove(),this.appendChild((e=>t("div",{class:"comment"},t("div",{class:"comment-header"},t("div",{class:"flex-5"},t("span",{class:"comment-icon comment-user"}),t("span",null,e.annotation?.data.username)),t("div",{actions:!0,class:"flex-5"},e.isEditable&&t("span",{class:"comment-icon comment-trash",onClick:e.onRemove}))),t("div",{"comment-body":!0,class:"comment-body"},t("div",{id:"content"},!e.annotation?.data.human&&t("p",null,e.annotation.data.text))),t("div",{"comment-footer":!0,class:"comment-footer"},e.isEditable&&t(o,null,t("button",{id:"comment-save-btn",class:"comment-btn",onClick:e.onSave},"Save"),t("button",{id:"comment-close-btn",class:"comment-btn",onClick:e.onClose},"Close")))))(this))}show=()=>{this.addPopperEvents(),this.hidden=!1,this.popper.update(),this.clearTimeout()};hide=()=>{this.timeout=setTimeout((()=>{this.timeout&&this.hideNow()}),2e3)};hideNow=()=>{this.removeAnnotationEvents(),this.on=!1,this.hidden=!0};onClose=e=>{e.stopPropagation(),this.hideNow()};initPopper=(e=this.ref)=>{this.hideNow(),this.popper&&this.popper.destroy(),this.popper=Fu(e,this),this.show()};addPopperEvents=()=>{this.addAnnotationEvents(),this.addAnnotationRefEvents()};addAnnotationEvents=()=>{this.addEventListener("pointerenter",this.onPointerInteraction),this.contentEditor.addEventListener("focusin",this.onKeyboardInteraction),this.addEventListener("pointerleave",this.onPointerInteraction),this.contentEditor.addEventListener("focusout",this.onKeyboardInteraction)};removeAnnotationEvents=()=>{this.removeEventListener("pointerenter",this.onPointerInteraction),this.contentEditor.removeEventListener("focusin",this.onKeyboardInteraction),this.removeEventListener("pointerleave",this.onPointerInteraction),this.contentEditor.removeEventListener("focusout",this.onKeyboardInteraction)};addAnnotationRefEvents=()=>{this.ref?.addEventListener("pointerleave",this.onPointerInteraction)};removeAnnotationRefEvents=()=>{this.ref?.removeEventListener("pointerleave",this.onPointerInteraction)};onPointerInteraction=e=>{this.hasPointerInteraction="pointerenter"===e.type,this.handleInteraction()};onKeyboardInteraction=e=>{this.hasKeyboardInteraction="focusin"===e.type,this.handleInteraction()};handleInteraction=()=>{this[this.hasKeyboardInteraction||this.hasPointerInteraction?"show":"hide"]()};initEditor=()=>{this.editor=new Hu(this.contentEditor,{theme:"snow",modules:{toolbar:[["bold","italic","underline","link","clean"]]},placeholder:"Notes ..."});let e=this.annotation?.data.contents;if(e?this.editor.setContents(JSON.parse(decodeURI(e))):this.editor.setText(this.annotation?.data.text||""),!this.isEditable)return this.editor.disable(),void(this.annotation?.data.tagList.length&&this.contentEditor.appendChild((e=>t("p",{id:"annotation-categories",class:"categories-chipped"},e.annotation.data.tagList.map((e=>t("span",{key:e.id},e)))))(this)));this.contentEditor.appendChild(zu(this)),this.addEditorEvents(),this.addTagSelectEvent()};addEditorEvents=()=>{this.editor.root.onblur=()=>{this.annotation.data.text=this.editor.getText(),this.annotation.data.contents=encodeURI(JSON.stringify(this.editor.getContents()))}};addTagSelectEvent=()=>{this.tagMultipleSelect.addEventListener("change",(()=>{const e=Array.from(this.tagMultipleSelect.querySelectorAll("option-pure[selected]")).map((e=>e.getAttribute("value")));this.annotation.data.tagList=e}))};showOnCreation=async(e,t)=>{await Bu(),this.annotation=t,this.render(),this.initEditor(),this.initPopper(e),this.removeAnnotationEvents(),this.hidden=!1};onSuccess=e=>{this.dispatchAnnotationEvent()};onError=e=>{(e=>{n("error",e)})(e.message),console.error(e)};onSave=async()=>{this.annotation.data.uri?await this.updateAnnotation(this.annotation):await(async(t,n)=>await e.post(`${r}/${t}/annotation/create`,n,window.token))(this.interId,this.annotation.data).then(this.onSuccess).catch(this.onError)};updateAnnotation=async t=>{await(async(t,n)=>await e.post(`${r}/annotation/${t}`,n,window.token))(t.id,t.data).then(this.onSuccess).catch(this.onError)};onRemove=()=>{this.annotation.data.uri?(async(t,n)=>await e.post(`${r}/${t}/annotation/${n}/delete`,null,window.token))(this.interId,this.annotation.id).then(this.onSuccess).catch(this.onError):this.removeNotPersisted()};removeNotPersisted(){this.annotation.destroy(),this.hideNow(),s(a.filter((e=>e.id!==this.annotation.id)))}dispatchAnnotationEvent=()=>{this.dispatchEvent(new CustomEvent("annotator:annotation-update",{bubbles:!0,composed:!0}))}}let $u,Uu,Gu,Xu;!customElements.get("ldod-annotation")&&customElements.define("ldod-annotation",Vu),window.hash=e=>e.split("").reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)|0),0);const Wu=e=>{let t=e.filter(Yu);if(!t.length)return e;t=t.reduce(((e,t)=>{let n=(e=>`${e.start}/${e.startOffset}${e.end}/${e.endOffset}`)(t.ranges[0]);return Object.keys(e).includes(n)?(e[n].push(t),e):(e[n]=[t],e)}),{});const n=Object.values(t).map((e=>e.reduce(((e,t)=>(Object.keys(e).length||(e={...t,text:document.createElement("div")}),e.text.innerHTML=`\n          <div>\n            <div>\n              <a href=${t.sourceLink} target="_blank">Tweet</a>\n            </div>\n            <div>\n              <a href=${t.profileURL} target="_blank"\n                >${t.profileURL.split("https://twitter.com/")[1]}</a\n              >\n            </div>\n            <p>Date: ${t.date}</p>\n          </div>\n        `,e)),{})));return e=e.filter((e=>e.human)),n.forEach((t=>e.push(t))),e};async function Ju(e=Gu.annotations){e=Wu(e),a.forEach((e=>{e?.destroyAndnormalizeCommonAncestor()}));let t=await Promise.all(e.map((e=>new _u(e,Uu).highlight().catch((e=>console.error(e))))));s(t)}function Ku(e){Gu=e,Ju(),$u.categories=Gu.categories,$u.openVocab=Gu.openVocab,!Gu.contributor&&Xu&&Xu.remove()}function Yu(e){return!e.human&&"Twitter"===e.username}const Qu=Object.freeze(Object.defineProperty({__proto__:null,annotatorService:async function({id:t,element:n}){(function(e,t){if(!e||!t||!t.isConnected)throw new Error("Invalid arguments")})(t,n),Uu=n,n.appendChild((()=>{const e=document.createElement("style");return e.innerHTML="\n  ::selection {\n    background-color: mark;\n    color: marktext;\n  }",e})()),$u&&$u.remove(),$u=Uu.parentElement.appendChild(new Vu(t)),await(async t=>await e.get(`${r}/${t}`,null,window.token))(t).then(Ku).catch((e=>console.error(e))),Xu&&Xu.remove(),Gu.contributor&&(Xu=Uu.parentElement.appendChild(new ju(Uu,$u,t)))},get ldodAnnotationComponent(){return $u},processExistingAnnotations:Ju,updateFetchedData:Ku},Symbol.toStringTag,{value:"Module"}));export{Qu as a,f as c,h as g};
//# sourceMappingURL=annotator-2d462fd5.js.map
